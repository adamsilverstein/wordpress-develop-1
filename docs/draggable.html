<!DOCTYPE html>

<html>
<head>
  <title>draggable.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="accordion.html">
                  accordion.js
                </a>
              
                
                <a class="source" href="bookmarklet.html">
                  bookmarklet.js
                </a>
              
                
                <a class="source" href="bookmarklet.min.html">
                  bookmarklet.min.js
                </a>
              
                
                <a class="source" href="color-picker.html">
                  color-picker.js
                </a>
              
                
                <a class="source" href="comment.html">
                  comment.js
                </a>
              
                
                <a class="source" href="common.html">
                  common.js
                </a>
              
                
                <a class="source" href="custom-background.html">
                  custom-background.js
                </a>
              
                
                <a class="source" href="custom-header.html">
                  custom-header.js
                </a>
              
                
                <a class="source" href="customize-controls.html">
                  customize-controls.js
                </a>
              
                
                <a class="source" href="customize-nav-menus.html">
                  customize-nav-menus.js
                </a>
              
                
                <a class="source" href="customize-widgets.html">
                  customize-widgets.js
                </a>
              
                
                <a class="source" href="dashboard.html">
                  dashboard.js
                </a>
              
                
                <a class="source" href="edit-comments.html">
                  edit-comments.js
                </a>
              
                
                <a class="source" href="editor-expand.html">
                  editor-expand.js
                </a>
              
                
                <a class="source" href="editor.html">
                  editor.js
                </a>
              
                
                <a class="source" href="farbtastic.html">
                  farbtastic.js
                </a>
              
                
                <a class="source" href="gallery.html">
                  gallery.js
                </a>
              
                
                <a class="source" href="image-edit.html">
                  image-edit.js
                </a>
              
                
                <a class="source" href="inline-edit-post.html">
                  inline-edit-post.js
                </a>
              
                
                <a class="source" href="inline-edit-tax.html">
                  inline-edit-tax.js
                </a>
              
                
                <a class="source" href="iris.min.html">
                  iris.min.js
                </a>
              
                
                <a class="source" href="language-chooser.html">
                  language-chooser.js
                </a>
              
                
                <a class="source" href="link.html">
                  link.js
                </a>
              
                
                <a class="source" href="media-gallery.html">
                  media-gallery.js
                </a>
              
                
                <a class="source" href="media-upload.html">
                  media-upload.js
                </a>
              
                
                <a class="source" href="media.html">
                  media.js
                </a>
              
                
                <a class="source" href="nav-menu.html">
                  nav-menu.js
                </a>
              
                
                <a class="source" href="password-strength-meter.html">
                  password-strength-meter.js
                </a>
              
                
                <a class="source" href="plugin-install.html">
                  plugin-install.js
                </a>
              
                
                <a class="source" href="post.html">
                  post.js
                </a>
              
                
                <a class="source" href="postbox.html">
                  postbox.js
                </a>
              
                
                <a class="source" href="press-this.html">
                  press-this.js
                </a>
              
                
                <a class="source" href="revisions.html">
                  revisions.js
                </a>
              
                
                <a class="source" href="set-post-thumbnail.html">
                  set-post-thumbnail.js
                </a>
              
                
                <a class="source" href="svg-painter.html">
                  svg-painter.js
                </a>
              
                
                <a class="source" href="tags-box.html">
                  tags-box.js
                </a>
              
                
                <a class="source" href="tags-suggest.html">
                  tags-suggest.js
                </a>
              
                
                <a class="source" href="tags.html">
                  tags.js
                </a>
              
                
                <a class="source" href="theme.html">
                  theme.js
                </a>
              
                
                <a class="source" href="updates.html">
                  updates.js
                </a>
              
                
                <a class="source" href="user-profile.html">
                  user-profile.js
                </a>
              
                
                <a class="source" href="user-suggest.html">
                  user-suggest.js
                </a>
              
                
                <a class="source" href="widgets.html">
                  widgets.js
                </a>
              
                
                <a class="source" href="media-audio-widget.html">
                  media-audio-widget.js
                </a>
              
                
                <a class="source" href="media-image-widget.html">
                  media-image-widget.js
                </a>
              
                
                <a class="source" href="media-video-widget.html">
                  media-video-widget.js
                </a>
              
                
                <a class="source" href="media-widgets.html">
                  media-widgets.js
                </a>
              
                
                <a class="source" href="text-widgets.html">
                  text-widgets.js
                </a>
              
                
                <a class="source" href="word-count.html">
                  word-count.js
                </a>
              
                
                <a class="source" href="wp-fullscreen-stub.html">
                  wp-fullscreen-stub.js
                </a>
              
                
                <a class="source" href="xfn.html">
                  xfn.js
                </a>
              
                
                <a class="source" href="theme-customizer.html">
                  theme-customizer.js
                </a>
              
                
                <a class="source" href="theme-options.html">
                  theme-options.js
                </a>
              
                
                <a class="source" href="html5.html">
                  html5.js
                </a>
              
                
                <a class="source" href="showcase.html">
                  showcase.js
                </a>
              
                
                <a class="source" href="color-scheme-control.html">
                  color-scheme-control.js
                </a>
              
                
                <a class="source" href="customize-preview.html">
                  customize-preview.js
                </a>
              
                
                <a class="source" href="functions.html">
                  functions.js
                </a>
              
                
                <a class="source" href="html5.html">
                  html5.js
                </a>
              
                
                <a class="source" href="keyboard-image-navigation.html">
                  keyboard-image-navigation.js
                </a>
              
                
                <a class="source" href="skip-link-focus-fix.html">
                  skip-link-focus-fix.js
                </a>
              
                
                <a class="source" href="customizer.html">
                  customizer.js
                </a>
              
                
                <a class="source" href="featured-content-admin.html">
                  featured-content-admin.js
                </a>
              
                
                <a class="source" href="functions.html">
                  functions.js
                </a>
              
                
                <a class="source" href="html5.html">
                  html5.js
                </a>
              
                
                <a class="source" href="keyboard-image-navigation.html">
                  keyboard-image-navigation.js
                </a>
              
                
                <a class="source" href="slider.html">
                  slider.js
                </a>
              
                
                <a class="source" href="customize-controls.html">
                  customize-controls.js
                </a>
              
                
                <a class="source" href="customize-preview.html">
                  customize-preview.js
                </a>
              
                
                <a class="source" href="global.html">
                  global.js
                </a>
              
                
                <a class="source" href="html5.html">
                  html5.js
                </a>
              
                
                <a class="source" href="jquery.scrollTo.html">
                  jquery.scrollTo.js
                </a>
              
                
                <a class="source" href="navigation.html">
                  navigation.js
                </a>
              
                
                <a class="source" href="skip-link-focus-fix.html">
                  skip-link-focus-fix.js
                </a>
              
                
                <a class="source" href="functions.html">
                  functions.js
                </a>
              
                
                <a class="source" href="html5.html">
                  html5.js
                </a>
              
                
                <a class="source" href="theme-customizer.html">
                  theme-customizer.js
                </a>
              
                
                <a class="source" href="html5.html">
                  html5.js
                </a>
              
                
                <a class="source" href="navigation.html">
                  navigation.js
                </a>
              
                
                <a class="source" href="theme-customizer.html">
                  theme-customizer.js
                </a>
              
                
                <a class="source" href="admin-bar.html">
                  admin-bar.js
                </a>
              
                
                <a class="source" href="autosave.html">
                  autosave.js
                </a>
              
                
                <a class="source" href="backbone.html">
                  backbone.js
                </a>
              
                
                <a class="source" href="backbone.min.html">
                  backbone.min.js
                </a>
              
                
                <a class="source" href="colorpicker.html">
                  colorpicker.js
                </a>
              
                
                <a class="source" href="comment-reply.html">
                  comment-reply.js
                </a>
              
                
                <a class="source" href="cropper.html">
                  cropper.js
                </a>
              
                
                <a class="source" href="customize-base.html">
                  customize-base.js
                </a>
              
                
                <a class="source" href="customize-loader.html">
                  customize-loader.js
                </a>
              
                
                <a class="source" href="customize-models.html">
                  customize-models.js
                </a>
              
                
                <a class="source" href="customize-preview-nav-menus.html">
                  customize-preview-nav-menus.js
                </a>
              
                
                <a class="source" href="customize-preview-widgets.html">
                  customize-preview-widgets.js
                </a>
              
                
                <a class="source" href="customize-preview.html">
                  customize-preview.js
                </a>
              
                
                <a class="source" href="customize-selective-refresh.html">
                  customize-selective-refresh.js
                </a>
              
                
                <a class="source" href="customize-views.html">
                  customize-views.js
                </a>
              
                
                <a class="source" href="heartbeat.html">
                  heartbeat.js
                </a>
              
                
                <a class="source" href="hoverIntent.html">
                  hoverIntent.js
                </a>
              
                
                <a class="source" href="imagesloaded.min.html">
                  imagesloaded.min.js
                </a>
              
                
                <a class="source" href="jquery.imgareaselect.html">
                  jquery.imgareaselect.js
                </a>
              
                
                <a class="source" href="jquery.imgareaselect.min.html">
                  jquery.imgareaselect.min.js
                </a>
              
                
                <a class="source" href="jquery.Jcrop.min.html">
                  jquery.Jcrop.min.js
                </a>
              
                
                <a class="source" href="jquery-migrate.html">
                  jquery-migrate.js
                </a>
              
                
                <a class="source" href="jquery-migrate.min.html">
                  jquery-migrate.min.js
                </a>
              
                
                <a class="source" href="jquery.color.min.html">
                  jquery.color.min.js
                </a>
              
                
                <a class="source" href="jquery.form.html">
                  jquery.form.js
                </a>
              
                
                <a class="source" href="jquery.form.min.html">
                  jquery.form.min.js
                </a>
              
                
                <a class="source" href="jquery.hotkeys.html">
                  jquery.hotkeys.js
                </a>
              
                
                <a class="source" href="jquery.hotkeys.min.html">
                  jquery.hotkeys.min.js
                </a>
              
                
                <a class="source" href="jquery.html">
                  jquery.js
                </a>
              
                
                <a class="source" href="jquery.masonry.html">
                  jquery.masonry.js
                </a>
              
                
                <a class="source" href="jquery.masonry.min.html">
                  jquery.masonry.min.js
                </a>
              
                
                <a class="source" href="jquery.query.html">
                  jquery.query.js
                </a>
              
                
                <a class="source" href="jquery.schedule.html">
                  jquery.schedule.js
                </a>
              
                
                <a class="source" href="jquery.serialize-object.html">
                  jquery.serialize-object.js
                </a>
              
                
                <a class="source" href="jquery.table-hotkeys.html">
                  jquery.table-hotkeys.js
                </a>
              
                
                <a class="source" href="jquery.table-hotkeys.min.html">
                  jquery.table-hotkeys.min.js
                </a>
              
                
                <a class="source" href="jquery.ui.touch-punch.html">
                  jquery.ui.touch-punch.js
                </a>
              
                
                <a class="source" href="suggest.html">
                  suggest.js
                </a>
              
                
                <a class="source" href="suggest.min.html">
                  suggest.min.js
                </a>
              
                
                <a class="source" href="accordion.html">
                  accordion.js
                </a>
              
                
                <a class="source" href="autocomplete.html">
                  autocomplete.js
                </a>
              
                
                <a class="source" href="button.html">
                  button.js
                </a>
              
                
                <a class="source" href="core.html">
                  core.js
                </a>
              
                
                <a class="source" href="datepicker.html">
                  datepicker.js
                </a>
              
                
                <a class="source" href="dialog.html">
                  dialog.js
                </a>
              
                
                <a class="source" href="draggable.html">
                  draggable.js
                </a>
              
                
                <a class="source" href="droppable.html">
                  droppable.js
                </a>
              
                
                <a class="source" href="effect-blind.html">
                  effect-blind.js
                </a>
              
                
                <a class="source" href="effect-bounce.html">
                  effect-bounce.js
                </a>
              
                
                <a class="source" href="effect-clip.html">
                  effect-clip.js
                </a>
              
                
                <a class="source" href="effect-drop.html">
                  effect-drop.js
                </a>
              
                
                <a class="source" href="effect-explode.html">
                  effect-explode.js
                </a>
              
                
                <a class="source" href="effect-fade.html">
                  effect-fade.js
                </a>
              
                
                <a class="source" href="effect-fold.html">
                  effect-fold.js
                </a>
              
                
                <a class="source" href="effect-highlight.html">
                  effect-highlight.js
                </a>
              
                
                <a class="source" href="effect-puff.html">
                  effect-puff.js
                </a>
              
                
                <a class="source" href="effect-pulsate.html">
                  effect-pulsate.js
                </a>
              
                
                <a class="source" href="effect-scale.html">
                  effect-scale.js
                </a>
              
                
                <a class="source" href="effect-shake.html">
                  effect-shake.js
                </a>
              
                
                <a class="source" href="effect-size.html">
                  effect-size.js
                </a>
              
                
                <a class="source" href="effect-slide.html">
                  effect-slide.js
                </a>
              
                
                <a class="source" href="effect-transfer.html">
                  effect-transfer.js
                </a>
              
                
                <a class="source" href="effect.html">
                  effect.js
                </a>
              
                
                <a class="source" href="menu.html">
                  menu.js
                </a>
              
                
                <a class="source" href="mouse.html">
                  mouse.js
                </a>
              
                
                <a class="source" href="position.html">
                  position.js
                </a>
              
                
                <a class="source" href="progressbar.html">
                  progressbar.js
                </a>
              
                
                <a class="source" href="resizable.html">
                  resizable.js
                </a>
              
                
                <a class="source" href="selectable.html">
                  selectable.js
                </a>
              
                
                <a class="source" href="selectmenu.html">
                  selectmenu.js
                </a>
              
                
                <a class="source" href="slider.html">
                  slider.js
                </a>
              
                
                <a class="source" href="sortable.html">
                  sortable.js
                </a>
              
                
                <a class="source" href="spinner.html">
                  spinner.js
                </a>
              
                
                <a class="source" href="tabs.html">
                  tabs.js
                </a>
              
                
                <a class="source" href="tooltip.html">
                  tooltip.js
                </a>
              
                
                <a class="source" href="widget.html">
                  widget.js
                </a>
              
                
                <a class="source" href="json2.html">
                  json2.js
                </a>
              
                
                <a class="source" href="masonry.min.html">
                  masonry.min.js
                </a>
              
                
                <a class="source" href="mce-view.html">
                  mce-view.js
                </a>
              
                
                <a class="source" href="media-audiovideo.html">
                  media-audiovideo.js
                </a>
              
                
                <a class="source" href="media-editor.html">
                  media-editor.js
                </a>
              
                
                <a class="source" href="media-grid.html">
                  media-grid.js
                </a>
              
                
                <a class="source" href="media-models.html">
                  media-models.js
                </a>
              
                
                <a class="source" href="media-views.html">
                  media-views.js
                </a>
              
                
                <a class="source" href="audiovideo.manifest.html">
                  audiovideo.manifest.js
                </a>
              
                
                <a class="source" href="audio-details.html">
                  audio-details.js
                </a>
              
                
                <a class="source" href="collection-add.html">
                  collection-add.js
                </a>
              
                
                <a class="source" href="collection-edit.html">
                  collection-edit.js
                </a>
              
                
                <a class="source" href="cropper.html">
                  cropper.js
                </a>
              
                
                <a class="source" href="customize-image-cropper.html">
                  customize-image-cropper.js
                </a>
              
                
                <a class="source" href="edit-attachment-metadata.html">
                  edit-attachment-metadata.js
                </a>
              
                
                <a class="source" href="edit-image.html">
                  edit-image.js
                </a>
              
                
                <a class="source" href="embed.html">
                  embed.js
                </a>
              
                
                <a class="source" href="featured-image.html">
                  featured-image.js
                </a>
              
                
                <a class="source" href="gallery-add.html">
                  gallery-add.js
                </a>
              
                
                <a class="source" href="gallery-edit.html">
                  gallery-edit.js
                </a>
              
                
                <a class="source" href="image-details.html">
                  image-details.js
                </a>
              
                
                <a class="source" href="library.html">
                  library.js
                </a>
              
                
                <a class="source" href="media-library.html">
                  media-library.js
                </a>
              
                
                <a class="source" href="region.html">
                  region.js
                </a>
              
                
                <a class="source" href="replace-image.html">
                  replace-image.js
                </a>
              
                
                <a class="source" href="site-icon-cropper.html">
                  site-icon-cropper.js
                </a>
              
                
                <a class="source" href="state-machine.html">
                  state-machine.js
                </a>
              
                
                <a class="source" href="state.html">
                  state.js
                </a>
              
                
                <a class="source" href="video-details.html">
                  video-details.js
                </a>
              
                
                <a class="source" href="grid.manifest.html">
                  grid.manifest.js
                </a>
              
                
                <a class="source" href="models.manifest.html">
                  models.manifest.js
                </a>
              
                
                <a class="source" href="attachment.html">
                  attachment.js
                </a>
              
                
                <a class="source" href="attachments.html">
                  attachments.js
                </a>
              
                
                <a class="source" href="post-image.html">
                  post-image.js
                </a>
              
                
                <a class="source" href="post-media.html">
                  post-media.js
                </a>
              
                
                <a class="source" href="query.html">
                  query.js
                </a>
              
                
                <a class="source" href="selection.html">
                  selection.js
                </a>
              
                
                <a class="source" href="manage.html">
                  manage.js
                </a>
              
                
                <a class="source" href="selection-sync.html">
                  selection-sync.js
                </a>
              
                
                <a class="source" href="views.manifest.html">
                  views.manifest.js
                </a>
              
                
                <a class="source" href="attachment-compat.html">
                  attachment-compat.js
                </a>
              
                
                <a class="source" href="attachment-filters.html">
                  attachment-filters.js
                </a>
              
                
                <a class="source" href="all.html">
                  all.js
                </a>
              
                
                <a class="source" href="date.html">
                  date.js
                </a>
              
                
                <a class="source" href="uploaded.html">
                  uploaded.js
                </a>
              
                
                <a class="source" href="attachment.html">
                  attachment.js
                </a>
              
                
                <a class="source" href="details-two-column.html">
                  details-two-column.js
                </a>
              
                
                <a class="source" href="details.html">
                  details.js
                </a>
              
                
                <a class="source" href="edit-library.html">
                  edit-library.js
                </a>
              
                
                <a class="source" href="edit-selection.html">
                  edit-selection.js
                </a>
              
                
                <a class="source" href="library.html">
                  library.js
                </a>
              
                
                <a class="source" href="selection.html">
                  selection.js
                </a>
              
                
                <a class="source" href="attachments.html">
                  attachments.js
                </a>
              
                
                <a class="source" href="browser.html">
                  browser.js
                </a>
              
                
                <a class="source" href="selection.html">
                  selection.js
                </a>
              
                
                <a class="source" href="audio-details.html">
                  audio-details.js
                </a>
              
                
                <a class="source" href="button-group.html">
                  button-group.js
                </a>
              
                
                <a class="source" href="button.html">
                  button.js
                </a>
              
                
                <a class="source" href="delete-selected-permanently.html">
                  delete-selected-permanently.js
                </a>
              
                
                <a class="source" href="delete-selected.html">
                  delete-selected.js
                </a>
              
                
                <a class="source" href="select-mode-toggle.html">
                  select-mode-toggle.js
                </a>
              
                
                <a class="source" href="cropper.html">
                  cropper.js
                </a>
              
                
                <a class="source" href="edit-image-details.html">
                  edit-image-details.js
                </a>
              
                
                <a class="source" href="edit-image.html">
                  edit-image.js
                </a>
              
                
                <a class="source" href="embed.html">
                  embed.js
                </a>
              
                
                <a class="source" href="image.html">
                  image.js
                </a>
              
                
                <a class="source" href="link.html">
                  link.js
                </a>
              
                
                <a class="source" href="url.html">
                  url.js
                </a>
              
                
                <a class="source" href="focus-manager.html">
                  focus-manager.js
                </a>
              
                
                <a class="source" href="frame.html">
                  frame.js
                </a>
              
                
                <a class="source" href="audio-details.html">
                  audio-details.js
                </a>
              
                
                <a class="source" href="edit-attachments.html">
                  edit-attachments.js
                </a>
              
                
                <a class="source" href="image-details.html">
                  image-details.js
                </a>
              
                
                <a class="source" href="manage.html">
                  manage.js
                </a>
              
                
                <a class="source" href="media-details.html">
                  media-details.js
                </a>
              
                
                <a class="source" href="post.html">
                  post.js
                </a>
              
                
                <a class="source" href="select.html">
                  select.js
                </a>
              
                
                <a class="source" href="video-details.html">
                  video-details.js
                </a>
              
                
                <a class="source" href="iframe.html">
                  iframe.js
                </a>
              
                
                <a class="source" href="image-details.html">
                  image-details.js
                </a>
              
                
                <a class="source" href="label.html">
                  label.js
                </a>
              
                
                <a class="source" href="media-details.html">
                  media-details.js
                </a>
              
                
                <a class="source" href="media-frame.html">
                  media-frame.js
                </a>
              
                
                <a class="source" href="menu-item.html">
                  menu-item.js
                </a>
              
                
                <a class="source" href="menu.html">
                  menu.js
                </a>
              
                
                <a class="source" href="modal.html">
                  modal.js
                </a>
              
                
                <a class="source" href="priority-list.html">
                  priority-list.js
                </a>
              
                
                <a class="source" href="router-item.html">
                  router-item.js
                </a>
              
                
                <a class="source" href="router.html">
                  router.js
                </a>
              
                
                <a class="source" href="search.html">
                  search.js
                </a>
              
                
                <a class="source" href="selection.html">
                  selection.js
                </a>
              
                
                <a class="source" href="settings.html">
                  settings.js
                </a>
              
                
                <a class="source" href="attachment-display.html">
                  attachment-display.js
                </a>
              
                
                <a class="source" href="gallery.html">
                  gallery.js
                </a>
              
                
                <a class="source" href="playlist.html">
                  playlist.js
                </a>
              
                
                <a class="source" href="sidebar.html">
                  sidebar.js
                </a>
              
                
                <a class="source" href="site-icon-cropper.html">
                  site-icon-cropper.js
                </a>
              
                
                <a class="source" href="site-icon-preview.html">
                  site-icon-preview.js
                </a>
              
                
                <a class="source" href="spinner.html">
                  spinner.js
                </a>
              
                
                <a class="source" href="toolbar.html">
                  toolbar.js
                </a>
              
                
                <a class="source" href="embed.html">
                  embed.js
                </a>
              
                
                <a class="source" href="select.html">
                  select.js
                </a>
              
                
                <a class="source" href="editor.html">
                  editor.js
                </a>
              
                
                <a class="source" href="inline.html">
                  inline.js
                </a>
              
                
                <a class="source" href="status-error.html">
                  status-error.js
                </a>
              
                
                <a class="source" href="status.html">
                  status.js
                </a>
              
                
                <a class="source" href="window.html">
                  window.js
                </a>
              
                
                <a class="source" href="video-details.html">
                  video-details.js
                </a>
              
                
                <a class="source" href="view.html">
                  view.js
                </a>
              
                
                <a class="source" href="froogaloop.min.html">
                  froogaloop.min.js
                </a>
              
                
                <a class="source" href="mediaelement-and-player.min.html">
                  mediaelement-and-player.min.js
                </a>
              
                
                <a class="source" href="wp-mediaelement.html">
                  wp-mediaelement.js
                </a>
              
                
                <a class="source" href="wp-playlist.html">
                  wp-playlist.js
                </a>
              
                
                <a class="source" href="handlers.html">
                  handlers.js
                </a>
              
                
                <a class="source" href="plupload.full.min.html">
                  plupload.full.min.js
                </a>
              
                
                <a class="source" href="wp-plupload.html">
                  wp-plupload.js
                </a>
              
                
                <a class="source" href="quicktags.html">
                  quicktags.js
                </a>
              
                
                <a class="source" href="shortcode.html">
                  shortcode.js
                </a>
              
                
                <a class="source" href="swfobject.html">
                  swfobject.js
                </a>
              
                
                <a class="source" href="handlers.html">
                  handlers.js
                </a>
              
                
                <a class="source" href="handlers.min.html">
                  handlers.min.js
                </a>
              
                
                <a class="source" href="swfupload.cookies.html">
                  swfupload.cookies.js
                </a>
              
                
                <a class="source" href="swfupload.queue.html">
                  swfupload.queue.js
                </a>
              
                
                <a class="source" href="swfupload.speed.html">
                  swfupload.speed.js
                </a>
              
                
                <a class="source" href="swfupload.swfobject.html">
                  swfupload.swfobject.js
                </a>
              
                
                <a class="source" href="swfupload.html">
                  swfupload.js
                </a>
              
                
                <a class="source" href="thickbox.html">
                  thickbox.js
                </a>
              
                
                <a class="source" href="wp-langs-en.html">
                  wp-langs-en.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="theme.html">
                  theme.js
                </a>
              
                
                <a class="source" href="theme.min.html">
                  theme.min.js
                </a>
              
                
                <a class="source" href="theme.html">
                  theme.js
                </a>
              
                
                <a class="source" href="theme.min.html">
                  theme.min.js
                </a>
              
                
                <a class="source" href="tiny_mce_popup.html">
                  tiny_mce_popup.js
                </a>
              
                
                <a class="source" href="tinymce.html">
                  tinymce.js
                </a>
              
                
                <a class="source" href="tinymce.min.html">
                  tinymce.min.js
                </a>
              
                
                <a class="source" href="editable_selects.html">
                  editable_selects.js
                </a>
              
                
                <a class="source" href="form_utils.html">
                  form_utils.js
                </a>
              
                
                <a class="source" href="mctabs.html">
                  mctabs.js
                </a>
              
                
                <a class="source" href="validate.html">
                  validate.js
                </a>
              
                
                <a class="source" href="tw-sack.html">
                  tw-sack.js
                </a>
              
                
                <a class="source" href="twemoji.html">
                  twemoji.js
                </a>
              
                
                <a class="source" href="underscore.html">
                  underscore.js
                </a>
              
                
                <a class="source" href="underscore.min.html">
                  underscore.min.js
                </a>
              
                
                <a class="source" href="utils.html">
                  utils.js
                </a>
              
                
                <a class="source" href="wp-a11y.html">
                  wp-a11y.js
                </a>
              
                
                <a class="source" href="wp-ajax-response.html">
                  wp-ajax-response.js
                </a>
              
                
                <a class="source" href="wp-api.html">
                  wp-api.js
                </a>
              
                
                <a class="source" href="wp-auth-check.html">
                  wp-auth-check.js
                </a>
              
                
                <a class="source" href="wp-backbone.html">
                  wp-backbone.js
                </a>
              
                
                <a class="source" href="wp-custom-header.html">
                  wp-custom-header.js
                </a>
              
                
                <a class="source" href="wp-embed-template.html">
                  wp-embed-template.js
                </a>
              
                
                <a class="source" href="wp-embed.html">
                  wp-embed.js
                </a>
              
                
                <a class="source" href="wp-emoji-loader.html">
                  wp-emoji-loader.js
                </a>
              
                
                <a class="source" href="wp-emoji.html">
                  wp-emoji.js
                </a>
              
                
                <a class="source" href="wp-list-revisions.html">
                  wp-list-revisions.js
                </a>
              
                
                <a class="source" href="wp-lists.html">
                  wp-lists.js
                </a>
              
                
                <a class="source" href="wp-pointer.html">
                  wp-pointer.js
                </a>
              
                
                <a class="source" href="wp-util.html">
                  wp-util.js
                </a>
              
                
                <a class="source" href="wpdialog.html">
                  wpdialog.js
                </a>
              
                
                <a class="source" href="wplink.html">
                  wplink.js
                </a>
              
                
                <a class="source" href="zxcvbn-async.html">
                  zxcvbn-async.js
                </a>
              
                
                <a class="source" href="zxcvbn.min.html">
                  zxcvbn.min.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>draggable.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> factory </span>) </span>{
	<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">typeof</span> define === <span class="hljs-string">"function"</span> &amp;&amp; define.amd ) {</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>AMD. Register as an anonymous module.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		define([
			<span class="hljs-string">"jquery"</span>,
			<span class="hljs-string">"./core"</span>,
			<span class="hljs-string">"./mouse"</span>,
			<span class="hljs-string">"./widget"</span>
		], factory );
	} <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Browser globals</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		factory( jQuery );
	}
}(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> $ </span>) </span>{

$.widget(<span class="hljs-string">"ui.draggable"</span>, $.ui.mouse, {
	<span class="hljs-attr">version</span>: <span class="hljs-string">"1.11.4"</span>,
	<span class="hljs-attr">widgetEventPrefix</span>: <span class="hljs-string">"drag"</span>,
	<span class="hljs-attr">options</span>: {
		<span class="hljs-attr">addClasses</span>: <span class="hljs-literal">true</span>,
		<span class="hljs-attr">appendTo</span>: <span class="hljs-string">"parent"</span>,
		<span class="hljs-attr">axis</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">connectToSortable</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">containment</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">cursor</span>: <span class="hljs-string">"auto"</span>,
		<span class="hljs-attr">cursorAt</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">grid</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">handle</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">helper</span>: <span class="hljs-string">"original"</span>,
		<span class="hljs-attr">iframeFix</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">opacity</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">refreshPositions</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">revert</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">revertDuration</span>: <span class="hljs-number">500</span>,
		<span class="hljs-attr">scope</span>: <span class="hljs-string">"default"</span>,
		<span class="hljs-attr">scroll</span>: <span class="hljs-literal">true</span>,
		<span class="hljs-attr">scrollSensitivity</span>: <span class="hljs-number">20</span>,
		<span class="hljs-attr">scrollSpeed</span>: <span class="hljs-number">20</span>,
		<span class="hljs-attr">snap</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">snapMode</span>: <span class="hljs-string">"both"</span>,
		<span class="hljs-attr">snapTolerance</span>: <span class="hljs-number">20</span>,
		<span class="hljs-attr">stack</span>: <span class="hljs-literal">false</span>,
		<span class="hljs-attr">zIndex</span>: <span class="hljs-literal">false</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>callbacks</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		drag: <span class="hljs-literal">null</span>,
		<span class="hljs-attr">start</span>: <span class="hljs-literal">null</span>,
		<span class="hljs-attr">stop</span>: <span class="hljs-literal">null</span>
	},
	<span class="hljs-attr">_create</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

		<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">this</span>.options.helper === <span class="hljs-string">"original"</span> ) {
			<span class="hljs-keyword">this</span>._setPositionRelative();
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.addClasses){
			<span class="hljs-keyword">this</span>.element.addClass(<span class="hljs-string">"ui-draggable"</span>);
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.disabled){
			<span class="hljs-keyword">this</span>.element.addClass(<span class="hljs-string">"ui-draggable-disabled"</span>);
		}
		<span class="hljs-keyword">this</span>._setHandleClassName();

		<span class="hljs-keyword">this</span>._mouseInit();
	},

	<span class="hljs-attr">_setOption</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> key, value </span>) </span>{
		<span class="hljs-keyword">this</span>._super( key, value );
		<span class="hljs-keyword">if</span> ( key === <span class="hljs-string">"handle"</span> ) {
			<span class="hljs-keyword">this</span>._removeHandleClassName();
			<span class="hljs-keyword">this</span>._setHandleClassName();
		}
	},

	<span class="hljs-attr">_destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">if</span> ( ( <span class="hljs-keyword">this</span>.helper || <span class="hljs-keyword">this</span>.element ).is( <span class="hljs-string">".ui-draggable-dragging"</span> ) ) {
			<span class="hljs-keyword">this</span>.destroyOnClear = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">return</span>;
		}
		<span class="hljs-keyword">this</span>.element.removeClass( <span class="hljs-string">"ui-draggable ui-draggable-dragging ui-draggable-disabled"</span> );
		<span class="hljs-keyword">this</span>._removeHandleClassName();
		<span class="hljs-keyword">this</span>._mouseDestroy();
	},

	<span class="hljs-attr">_mouseCapture</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
		<span class="hljs-keyword">var</span> o = <span class="hljs-keyword">this</span>.options;

		<span class="hljs-keyword">this</span>._blurActiveElement( event );</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>among others, prevent a drag on a resizable-handle</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.helper || o.disabled || $(event.target).closest(<span class="hljs-string">".ui-resizable-handle"</span>).length &gt; <span class="hljs-number">0</span>) {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Quit if were not on a valid handle</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.handle = <span class="hljs-keyword">this</span>._getHandle(event);
		<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.handle) {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
		}

		<span class="hljs-keyword">this</span>._blockFrames( o.iframeFix === <span class="hljs-literal">true</span> ? <span class="hljs-string">"iframe"</span> : o.iframeFix );

		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;

	},

	<span class="hljs-attr">_blockFrames</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> selector </span>) </span>{
		<span class="hljs-keyword">this</span>.iframeBlocks = <span class="hljs-keyword">this</span>.document.find( selector ).map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
			<span class="hljs-keyword">var</span> iframe = $( <span class="hljs-keyword">this</span> );

			<span class="hljs-keyword">return</span> $( <span class="hljs-string">"&lt;div&gt;"</span> )
				.css( <span class="hljs-string">"position"</span>, <span class="hljs-string">"absolute"</span> )
				.appendTo( iframe.parent() )
				.outerWidth( iframe.outerWidth() )
				.outerHeight( iframe.outerHeight() )
				.offset( iframe.offset() )[ <span class="hljs-number">0</span> ];
		});
	},

	<span class="hljs-attr">_unblockFrames</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">this</span>.iframeBlocks ) {
			<span class="hljs-keyword">this</span>.iframeBlocks.remove();
			<span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.iframeBlocks;
		}
	},

	<span class="hljs-attr">_blurActiveElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event </span>) </span>{
		<span class="hljs-keyword">var</span> <span class="hljs-built_in">document</span> = <span class="hljs-keyword">this</span>.document[ <span class="hljs-number">0</span> ];</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Only need to blur if the event occurred on the draggable itself, see #10527</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> ( !<span class="hljs-keyword">this</span>.handleElement.is( event.target ) ) {
			<span class="hljs-keyword">return</span>;
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>support: IE9
IE9 throws an Unspecified error accessing document.activeElement from an <iframe></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">try</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Support: IE9, IE10
If the <body> is blurred, IE will switch windows, see #9520</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">if</span> ( <span class="hljs-built_in">document</span>.activeElement &amp;&amp; <span class="hljs-built_in">document</span>.activeElement.nodeName.toLowerCase() !== <span class="hljs-string">"body"</span> ) {</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Blur any element that currently has focus, see #4261</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				$( <span class="hljs-built_in">document</span>.activeElement ).blur();
			}
		} <span class="hljs-keyword">catch</span> ( error ) {}
	},

	<span class="hljs-attr">_mouseStart</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{

		<span class="hljs-keyword">var</span> o = <span class="hljs-keyword">this</span>.options;</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Create and append the visible helper</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.helper = <span class="hljs-keyword">this</span>._createHelper(event);

		<span class="hljs-keyword">this</span>.helper.addClass(<span class="hljs-string">"ui-draggable-dragging"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Cache the helper size</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>._cacheHelperProportions();</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>If ddmanager is used for droppables, set the global draggable</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> ($.ui.ddmanager) {
			$.ui.ddmanager.current = <span class="hljs-keyword">this</span>;
		}

		<span class="hljs-comment">/*
		 * - Position generation -
		 * This block generates everything position related - it's the core of draggables.
		 */</span></pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>Cache the margins of the original element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>._cacheMargins();</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>Store the helpers css position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.cssPosition = <span class="hljs-keyword">this</span>.helper.css( <span class="hljs-string">"position"</span> );
		<span class="hljs-keyword">this</span>.scrollParent = <span class="hljs-keyword">this</span>.helper.scrollParent( <span class="hljs-literal">true</span> );
		<span class="hljs-keyword">this</span>.offsetParent = <span class="hljs-keyword">this</span>.helper.offsetParent();
		<span class="hljs-keyword">this</span>.hasFixedAncestor = <span class="hljs-keyword">this</span>.helper.parents().filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
				<span class="hljs-keyword">return</span> $( <span class="hljs-keyword">this</span> ).css( <span class="hljs-string">"position"</span> ) === <span class="hljs-string">"fixed"</span>;
			}).length &gt; <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>The elements absolute position on the page minus margins</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.positionAbs = <span class="hljs-keyword">this</span>.element.offset();
		<span class="hljs-keyword">this</span>._refreshOffsets( event );</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>Generate the original position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.originalPosition = <span class="hljs-keyword">this</span>.position = <span class="hljs-keyword">this</span>._generatePosition( event, <span class="hljs-literal">false</span> );
		<span class="hljs-keyword">this</span>.originalPageX = event.pageX;
		<span class="hljs-keyword">this</span>.originalPageY = event.pageY;</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Adjust the mouse offset relative to the helper if cursorAt is supplied</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		(o.cursorAt &amp;&amp; <span class="hljs-keyword">this</span>._adjustOffsetFromHelper(o.cursorAt));</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Set a containment if given in the options</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>._setContainment();</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>Trigger event + callbacks</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._trigger(<span class="hljs-string">"start"</span>, event) === <span class="hljs-literal">false</span>) {
			<span class="hljs-keyword">this</span>._clear();
			<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Recache the helper size</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>._cacheHelperProportions();</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Prepare the droppable offsets</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> ($.ui.ddmanager &amp;&amp; !o.dropBehaviour) {
			$.ui.ddmanager.prepareOffsets(<span class="hljs-keyword">this</span>, event);
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>Reset helpers right/bottom css if theyre set and set explicit width/height instead
as this prevents resizing of elements with right/bottom set (see #7772)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>._normalizeRightBottom();

		<span class="hljs-keyword">this</span>._mouseDrag(event, <span class="hljs-literal">true</span>); <span class="hljs-comment">//Execute the drag once - this causes the helper not to be visible before getting its correct position</span></pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>If the ddmanager is used for droppables, inform the manager that dragging has started (see #5003)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> ( $.ui.ddmanager ) {
			$.ui.ddmanager.dragStart(<span class="hljs-keyword">this</span>, event);
		}

		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
	},

	<span class="hljs-attr">_refreshOffsets</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event </span>) </span>{
		<span class="hljs-keyword">this</span>.offset = {
			<span class="hljs-attr">top</span>: <span class="hljs-keyword">this</span>.positionAbs.top - <span class="hljs-keyword">this</span>.margins.top,
			<span class="hljs-attr">left</span>: <span class="hljs-keyword">this</span>.positionAbs.left - <span class="hljs-keyword">this</span>.margins.left,
			<span class="hljs-attr">scroll</span>: <span class="hljs-literal">false</span>,
			<span class="hljs-attr">parent</span>: <span class="hljs-keyword">this</span>._getParentOffset(),
			<span class="hljs-attr">relative</span>: <span class="hljs-keyword">this</span>._getRelativeOffset()
		};

		<span class="hljs-keyword">this</span>.offset.click = {
			<span class="hljs-attr">left</span>: event.pageX - <span class="hljs-keyword">this</span>.offset.left,
			<span class="hljs-attr">top</span>: event.pageY - <span class="hljs-keyword">this</span>.offset.top
		};
	},

	<span class="hljs-attr">_mouseDrag</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, noPropagation</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>reset any necessary cached properties (see #5009)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">this</span>.hasFixedAncestor ) {
			<span class="hljs-keyword">this</span>.offset.parent = <span class="hljs-keyword">this</span>._getParentOffset();
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>Compute the helpers position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.position = <span class="hljs-keyword">this</span>._generatePosition( event, <span class="hljs-literal">true</span> );
		<span class="hljs-keyword">this</span>.positionAbs = <span class="hljs-keyword">this</span>._convertPositionTo(<span class="hljs-string">"absolute"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>Call plugins and callbacks and use the resulting position if something is returned</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> (!noPropagation) {
			<span class="hljs-keyword">var</span> ui = <span class="hljs-keyword">this</span>._uiHash();
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._trigger(<span class="hljs-string">"drag"</span>, event, ui) === <span class="hljs-literal">false</span>) {
				<span class="hljs-keyword">this</span>._mouseUp({});
				<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
			}
			<span class="hljs-keyword">this</span>.position = ui.position;
		}

		<span class="hljs-keyword">this</span>.helper[ <span class="hljs-number">0</span> ].style.left = <span class="hljs-keyword">this</span>.position.left + <span class="hljs-string">"px"</span>;
		<span class="hljs-keyword">this</span>.helper[ <span class="hljs-number">0</span> ].style.top = <span class="hljs-keyword">this</span>.position.top + <span class="hljs-string">"px"</span>;

		<span class="hljs-keyword">if</span> ($.ui.ddmanager) {
			$.ui.ddmanager.drag(<span class="hljs-keyword">this</span>, event);
		}

		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
	},

	<span class="hljs-attr">_mouseStop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>If we are using droppables, inform the manager about the drop</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>,
			dropped = <span class="hljs-literal">false</span>;
		<span class="hljs-keyword">if</span> ($.ui.ddmanager &amp;&amp; !<span class="hljs-keyword">this</span>.options.dropBehaviour) {
			dropped = $.ui.ddmanager.drop(<span class="hljs-keyword">this</span>, event);
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>if a drop comes from outside (a sortable)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dropped) {
			dropped = <span class="hljs-keyword">this</span>.dropped;
			<span class="hljs-keyword">this</span>.dropped = <span class="hljs-literal">false</span>;
		}

		<span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.options.revert === <span class="hljs-string">"invalid"</span> &amp;&amp; !dropped) || (<span class="hljs-keyword">this</span>.options.revert === <span class="hljs-string">"valid"</span> &amp;&amp; dropped) || <span class="hljs-keyword">this</span>.options.revert === <span class="hljs-literal">true</span> || ($.isFunction(<span class="hljs-keyword">this</span>.options.revert) &amp;&amp; <span class="hljs-keyword">this</span>.options.revert.call(<span class="hljs-keyword">this</span>.element, dropped))) {
			$(<span class="hljs-keyword">this</span>.helper).animate(<span class="hljs-keyword">this</span>.originalPosition, <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.options.revertDuration, <span class="hljs-number">10</span>), <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
				<span class="hljs-keyword">if</span> (that._trigger(<span class="hljs-string">"stop"</span>, event) !== <span class="hljs-literal">false</span>) {
					that._clear();
				}
			});
		} <span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._trigger(<span class="hljs-string">"stop"</span>, event) !== <span class="hljs-literal">false</span>) {
				<span class="hljs-keyword">this</span>._clear();
			}
		}

		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
	},

	<span class="hljs-attr">_mouseUp</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event </span>) </span>{
		<span class="hljs-keyword">this</span>._unblockFrames();</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>If the ddmanager is used for droppables, inform the manager that dragging has stopped (see #5003)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> ( $.ui.ddmanager ) {
			$.ui.ddmanager.dragStop(<span class="hljs-keyword">this</span>, event);
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>Only need to focus if the event occurred on the draggable itself, see #10527</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">this</span>.handleElement.is( event.target ) ) {</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>The interaction is over; whether or not the click resulted in a drag, focus the element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.element.focus();
		}

		<span class="hljs-keyword">return</span> $.ui.mouse.prototype._mouseUp.call(<span class="hljs-keyword">this</span>, event);
	},

	<span class="hljs-attr">cancel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.helper.is(<span class="hljs-string">".ui-draggable-dragging"</span>)) {
			<span class="hljs-keyword">this</span>._mouseUp({});
		} <span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">this</span>._clear();
		}

		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;

	},

	<span class="hljs-attr">_getHandle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.options.handle ?
			!!$( event.target ).closest( <span class="hljs-keyword">this</span>.element.find( <span class="hljs-keyword">this</span>.options.handle ) ).length :
			<span class="hljs-literal">true</span>;
	},

	<span class="hljs-attr">_setHandleClassName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">this</span>.handleElement = <span class="hljs-keyword">this</span>.options.handle ?
			<span class="hljs-keyword">this</span>.element.find( <span class="hljs-keyword">this</span>.options.handle ) : <span class="hljs-keyword">this</span>.element;
		<span class="hljs-keyword">this</span>.handleElement.addClass( <span class="hljs-string">"ui-draggable-handle"</span> );
	},

	<span class="hljs-attr">_removeHandleClassName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">this</span>.handleElement.removeClass( <span class="hljs-string">"ui-draggable-handle"</span> );
	},

	<span class="hljs-attr">_createHelper</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{

		<span class="hljs-keyword">var</span> o = <span class="hljs-keyword">this</span>.options,
			helperIsFunction = $.isFunction( o.helper ),
			helper = helperIsFunction ?
				$( o.helper.apply( <span class="hljs-keyword">this</span>.element[ <span class="hljs-number">0</span> ], [ event ] ) ) :
				( o.helper === <span class="hljs-string">"clone"</span> ?
					<span class="hljs-keyword">this</span>.element.clone().removeAttr( <span class="hljs-string">"id"</span> ) :
					<span class="hljs-keyword">this</span>.element );

		<span class="hljs-keyword">if</span> (!helper.parents(<span class="hljs-string">"body"</span>).length) {
			helper.appendTo((o.appendTo === <span class="hljs-string">"parent"</span> ? <span class="hljs-keyword">this</span>.element[<span class="hljs-number">0</span>].parentNode : o.appendTo));
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p><a href="http://bugs.jqueryui.com/ticket/9446">http://bugs.jqueryui.com/ticket/9446</a>
a helper function can return the original element
which wouldnt have been set to relative in _create</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> ( helperIsFunction &amp;&amp; helper[ <span class="hljs-number">0</span> ] === <span class="hljs-keyword">this</span>.element[ <span class="hljs-number">0</span> ] ) {
			<span class="hljs-keyword">this</span>._setPositionRelative();
		}

		<span class="hljs-keyword">if</span> (helper[<span class="hljs-number">0</span>] !== <span class="hljs-keyword">this</span>.element[<span class="hljs-number">0</span>] &amp;&amp; !(<span class="hljs-regexp">/(fixed|absolute)/</span>).test(helper.css(<span class="hljs-string">"position"</span>))) {
			helper.css(<span class="hljs-string">"position"</span>, <span class="hljs-string">"absolute"</span>);
		}

		<span class="hljs-keyword">return</span> helper;

	},

	<span class="hljs-attr">_setPositionRelative</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">if</span> ( !( <span class="hljs-regexp">/^(?:r|a|f)/</span> ).test( <span class="hljs-keyword">this</span>.element.css( <span class="hljs-string">"position"</span> ) ) ) {
			<span class="hljs-keyword">this</span>.element[ <span class="hljs-number">0</span> ].style.position = <span class="hljs-string">"relative"</span>;
		}
	},

	<span class="hljs-attr">_adjustOffsetFromHelper</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>) </span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">"string"</span>) {
			obj = obj.split(<span class="hljs-string">" "</span>);
		}
		<span class="hljs-keyword">if</span> ($.isArray(obj)) {
			obj = { <span class="hljs-attr">left</span>: +obj[<span class="hljs-number">0</span>], <span class="hljs-attr">top</span>: +obj[<span class="hljs-number">1</span>] || <span class="hljs-number">0</span> };
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-string">"left"</span> <span class="hljs-keyword">in</span> obj) {
			<span class="hljs-keyword">this</span>.offset.click.left = obj.left + <span class="hljs-keyword">this</span>.margins.left;
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-string">"right"</span> <span class="hljs-keyword">in</span> obj) {
			<span class="hljs-keyword">this</span>.offset.click.left = <span class="hljs-keyword">this</span>.helperProportions.width - obj.right + <span class="hljs-keyword">this</span>.margins.left;
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-string">"top"</span> <span class="hljs-keyword">in</span> obj) {
			<span class="hljs-keyword">this</span>.offset.click.top = obj.top + <span class="hljs-keyword">this</span>.margins.top;
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-string">"bottom"</span> <span class="hljs-keyword">in</span> obj) {
			<span class="hljs-keyword">this</span>.offset.click.top = <span class="hljs-keyword">this</span>.helperProportions.height - obj.bottom + <span class="hljs-keyword">this</span>.margins.top;
		}
	},

	<span class="hljs-attr">_isRootNode</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> element </span>) </span>{
		<span class="hljs-keyword">return</span> ( <span class="hljs-regexp">/(html|body)/i</span> ).test( element.tagName ) || element === <span class="hljs-keyword">this</span>.document[ <span class="hljs-number">0</span> ];
	},

	<span class="hljs-attr">_getParentOffset</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>Get the offsetParent and cache its position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">var</span> po = <span class="hljs-keyword">this</span>.offsetParent.offset(),
			<span class="hljs-built_in">document</span> = <span class="hljs-keyword">this</span>.document[ <span class="hljs-number">0</span> ];</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>This is a special case where we need to modify a offset calculated on start, since the following happened:</p>
<ol>
<li>The position of the helper is absolute, so its position is calculated based on the next positioned parent</li>
<li>The actual offset parent is a child of the scroll parent, and the scroll parent isnt the document, which means that
the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag</li>
</ol>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cssPosition === <span class="hljs-string">"absolute"</span> &amp;&amp; <span class="hljs-keyword">this</span>.scrollParent[<span class="hljs-number">0</span>] !== <span class="hljs-built_in">document</span> &amp;&amp; $.contains(<span class="hljs-keyword">this</span>.scrollParent[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.offsetParent[<span class="hljs-number">0</span>])) {
			po.left += <span class="hljs-keyword">this</span>.scrollParent.scrollLeft();
			po.top += <span class="hljs-keyword">this</span>.scrollParent.scrollTop();
		}

		<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">this</span>._isRootNode( <span class="hljs-keyword">this</span>.offsetParent[ <span class="hljs-number">0</span> ] ) ) {
			po = { <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span> };
		}

		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">top</span>: po.top + (<span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.offsetParent.css(<span class="hljs-string">"borderTopWidth"</span>), <span class="hljs-number">10</span>) || <span class="hljs-number">0</span>),
			<span class="hljs-attr">left</span>: po.left + (<span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.offsetParent.css(<span class="hljs-string">"borderLeftWidth"</span>), <span class="hljs-number">10</span>) || <span class="hljs-number">0</span>)
		};

	},

	<span class="hljs-attr">_getRelativeOffset</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">this</span>.cssPosition !== <span class="hljs-string">"relative"</span> ) {
			<span class="hljs-keyword">return</span> { <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span> };
		}

		<span class="hljs-keyword">var</span> p = <span class="hljs-keyword">this</span>.element.position(),
			scrollIsRootNode = <span class="hljs-keyword">this</span>._isRootNode( <span class="hljs-keyword">this</span>.scrollParent[ <span class="hljs-number">0</span> ] );

		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">top</span>: p.top - ( <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.helper.css( <span class="hljs-string">"top"</span> ), <span class="hljs-number">10</span>) || <span class="hljs-number">0</span> ) + ( !scrollIsRootNode ? <span class="hljs-keyword">this</span>.scrollParent.scrollTop() : <span class="hljs-number">0</span> ),
			<span class="hljs-attr">left</span>: p.left - ( <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.helper.css( <span class="hljs-string">"left"</span> ), <span class="hljs-number">10</span>) || <span class="hljs-number">0</span> ) + ( !scrollIsRootNode ? <span class="hljs-keyword">this</span>.scrollParent.scrollLeft() : <span class="hljs-number">0</span> )
		};

	},

	<span class="hljs-attr">_cacheMargins</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">this</span>.margins = {
			<span class="hljs-attr">left</span>: (<span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.element.css(<span class="hljs-string">"marginLeft"</span>), <span class="hljs-number">10</span>) || <span class="hljs-number">0</span>),
			<span class="hljs-attr">top</span>: (<span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.element.css(<span class="hljs-string">"marginTop"</span>), <span class="hljs-number">10</span>) || <span class="hljs-number">0</span>),
			<span class="hljs-attr">right</span>: (<span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.element.css(<span class="hljs-string">"marginRight"</span>), <span class="hljs-number">10</span>) || <span class="hljs-number">0</span>),
			<span class="hljs-attr">bottom</span>: (<span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.element.css(<span class="hljs-string">"marginBottom"</span>), <span class="hljs-number">10</span>) || <span class="hljs-number">0</span>)
		};
	},

	<span class="hljs-attr">_cacheHelperProportions</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">this</span>.helperProportions = {
			<span class="hljs-attr">width</span>: <span class="hljs-keyword">this</span>.helper.outerWidth(),
			<span class="hljs-attr">height</span>: <span class="hljs-keyword">this</span>.helper.outerHeight()
		};
	},

	<span class="hljs-attr">_setContainment</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

		<span class="hljs-keyword">var</span> isUserScrollable, c, ce,
			o = <span class="hljs-keyword">this</span>.options,
			<span class="hljs-built_in">document</span> = <span class="hljs-keyword">this</span>.document[ <span class="hljs-number">0</span> ];

		<span class="hljs-keyword">this</span>.relativeContainer = <span class="hljs-literal">null</span>;

		<span class="hljs-keyword">if</span> ( !o.containment ) {
			<span class="hljs-keyword">this</span>.containment = <span class="hljs-literal">null</span>;
			<span class="hljs-keyword">return</span>;
		}

		<span class="hljs-keyword">if</span> ( o.containment === <span class="hljs-string">"window"</span> ) {
			<span class="hljs-keyword">this</span>.containment = [
				$( <span class="hljs-built_in">window</span> ).scrollLeft() - <span class="hljs-keyword">this</span>.offset.relative.left - <span class="hljs-keyword">this</span>.offset.parent.left,
				$( <span class="hljs-built_in">window</span> ).scrollTop() - <span class="hljs-keyword">this</span>.offset.relative.top - <span class="hljs-keyword">this</span>.offset.parent.top,
				$( <span class="hljs-built_in">window</span> ).scrollLeft() + $( <span class="hljs-built_in">window</span> ).width() - <span class="hljs-keyword">this</span>.helperProportions.width - <span class="hljs-keyword">this</span>.margins.left,
				$( <span class="hljs-built_in">window</span> ).scrollTop() + ( $( <span class="hljs-built_in">window</span> ).height() || <span class="hljs-built_in">document</span>.body.parentNode.scrollHeight ) - <span class="hljs-keyword">this</span>.helperProportions.height - <span class="hljs-keyword">this</span>.margins.top
			];
			<span class="hljs-keyword">return</span>;
		}

		<span class="hljs-keyword">if</span> ( o.containment === <span class="hljs-string">"document"</span>) {
			<span class="hljs-keyword">this</span>.containment = [
				<span class="hljs-number">0</span>,
				<span class="hljs-number">0</span>,
				$( <span class="hljs-built_in">document</span> ).width() - <span class="hljs-keyword">this</span>.helperProportions.width - <span class="hljs-keyword">this</span>.margins.left,
				( $( <span class="hljs-built_in">document</span> ).height() || <span class="hljs-built_in">document</span>.body.parentNode.scrollHeight ) - <span class="hljs-keyword">this</span>.helperProportions.height - <span class="hljs-keyword">this</span>.margins.top
			];
			<span class="hljs-keyword">return</span>;
		}

		<span class="hljs-keyword">if</span> ( o.containment.constructor === <span class="hljs-built_in">Array</span> ) {
			<span class="hljs-keyword">this</span>.containment = o.containment;
			<span class="hljs-keyword">return</span>;
		}

		<span class="hljs-keyword">if</span> ( o.containment === <span class="hljs-string">"parent"</span> ) {
			o.containment = <span class="hljs-keyword">this</span>.helper[ <span class="hljs-number">0</span> ].parentNode;
		}

		c = $( o.containment );
		ce = c[ <span class="hljs-number">0</span> ];

		<span class="hljs-keyword">if</span> ( !ce ) {
			<span class="hljs-keyword">return</span>;
		}

		isUserScrollable = <span class="hljs-regexp">/(scroll|auto)/</span>.test( c.css( <span class="hljs-string">"overflow"</span> ) );

		<span class="hljs-keyword">this</span>.containment = [
			( <span class="hljs-built_in">parseInt</span>( c.css( <span class="hljs-string">"borderLeftWidth"</span> ), <span class="hljs-number">10</span> ) || <span class="hljs-number">0</span> ) + ( <span class="hljs-built_in">parseInt</span>( c.css( <span class="hljs-string">"paddingLeft"</span> ), <span class="hljs-number">10</span> ) || <span class="hljs-number">0</span> ),
			( <span class="hljs-built_in">parseInt</span>( c.css( <span class="hljs-string">"borderTopWidth"</span> ), <span class="hljs-number">10</span> ) || <span class="hljs-number">0</span> ) + ( <span class="hljs-built_in">parseInt</span>( c.css( <span class="hljs-string">"paddingTop"</span> ), <span class="hljs-number">10</span> ) || <span class="hljs-number">0</span> ),
			( isUserScrollable ? <span class="hljs-built_in">Math</span>.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -
				( <span class="hljs-built_in">parseInt</span>( c.css( <span class="hljs-string">"borderRightWidth"</span> ), <span class="hljs-number">10</span> ) || <span class="hljs-number">0</span> ) -
				( <span class="hljs-built_in">parseInt</span>( c.css( <span class="hljs-string">"paddingRight"</span> ), <span class="hljs-number">10</span> ) || <span class="hljs-number">0</span> ) -
				<span class="hljs-keyword">this</span>.helperProportions.width -
				<span class="hljs-keyword">this</span>.margins.left -
				<span class="hljs-keyword">this</span>.margins.right,
			( isUserScrollable ? <span class="hljs-built_in">Math</span>.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -
				( <span class="hljs-built_in">parseInt</span>( c.css( <span class="hljs-string">"borderBottomWidth"</span> ), <span class="hljs-number">10</span> ) || <span class="hljs-number">0</span> ) -
				( <span class="hljs-built_in">parseInt</span>( c.css( <span class="hljs-string">"paddingBottom"</span> ), <span class="hljs-number">10</span> ) || <span class="hljs-number">0</span> ) -
				<span class="hljs-keyword">this</span>.helperProportions.height -
				<span class="hljs-keyword">this</span>.margins.top -
				<span class="hljs-keyword">this</span>.margins.bottom
		];
		<span class="hljs-keyword">this</span>.relativeContainer = c;
	},

	<span class="hljs-attr">_convertPositionTo</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d, pos</span>) </span>{

		<span class="hljs-keyword">if</span> (!pos) {
			pos = <span class="hljs-keyword">this</span>.position;
		}

		<span class="hljs-keyword">var</span> mod = d === <span class="hljs-string">"absolute"</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>,
			scrollIsRootNode = <span class="hljs-keyword">this</span>._isRootNode( <span class="hljs-keyword">this</span>.scrollParent[ <span class="hljs-number">0</span> ] );

		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">top</span>: (
				pos.top	+																<span class="hljs-comment">// The absolute mouse position</span>
				<span class="hljs-keyword">this</span>.offset.relative.top * mod +										<span class="hljs-comment">// Only for relative positioned nodes: Relative offset from element to offset parent</span>
				<span class="hljs-keyword">this</span>.offset.parent.top * mod -										<span class="hljs-comment">// The offsetParent's offset without borders (offset + border)</span>
				( ( <span class="hljs-keyword">this</span>.cssPosition === <span class="hljs-string">"fixed"</span> ? -<span class="hljs-keyword">this</span>.offset.scroll.top : ( scrollIsRootNode ? <span class="hljs-number">0</span> : <span class="hljs-keyword">this</span>.offset.scroll.top ) ) * mod)
			),
			<span class="hljs-attr">left</span>: (
				pos.left +																<span class="hljs-comment">// The absolute mouse position</span>
				<span class="hljs-keyword">this</span>.offset.relative.left * mod +										<span class="hljs-comment">// Only for relative positioned nodes: Relative offset from element to offset parent</span>
				<span class="hljs-keyword">this</span>.offset.parent.left * mod	-										<span class="hljs-comment">// The offsetParent's offset without borders (offset + border)</span>
				( ( <span class="hljs-keyword">this</span>.cssPosition === <span class="hljs-string">"fixed"</span> ? -<span class="hljs-keyword">this</span>.offset.scroll.left : ( scrollIsRootNode ? <span class="hljs-number">0</span> : <span class="hljs-keyword">this</span>.offset.scroll.left ) ) * mod)
			)
		};

	},

	<span class="hljs-attr">_generatePosition</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, constrainPosition </span>) </span>{

		<span class="hljs-keyword">var</span> containment, co, top, left,
			o = <span class="hljs-keyword">this</span>.options,
			scrollIsRootNode = <span class="hljs-keyword">this</span>._isRootNode( <span class="hljs-keyword">this</span>.scrollParent[ <span class="hljs-number">0</span> ] ),
			pageX = event.pageX,
			pageY = event.pageY;</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>Cache the scroll</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> ( !scrollIsRootNode || !<span class="hljs-keyword">this</span>.offset.scroll ) {
			<span class="hljs-keyword">this</span>.offset.scroll = {
				<span class="hljs-attr">top</span>: <span class="hljs-keyword">this</span>.scrollParent.scrollTop(),
				<span class="hljs-attr">left</span>: <span class="hljs-keyword">this</span>.scrollParent.scrollLeft()
			};
		}

		<span class="hljs-comment">/*
		 * - Position constraining -
		 * Constrain the position to a mix of grid, containment.
		 */</span></pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>If we are not dragging yet, we wont check for options</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> ( constrainPosition ) {
			<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">this</span>.containment ) {
				<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">this</span>.relativeContainer ){
					co = <span class="hljs-keyword">this</span>.relativeContainer.offset();
					containment = [
						<span class="hljs-keyword">this</span>.containment[ <span class="hljs-number">0</span> ] + co.left,
						<span class="hljs-keyword">this</span>.containment[ <span class="hljs-number">1</span> ] + co.top,
						<span class="hljs-keyword">this</span>.containment[ <span class="hljs-number">2</span> ] + co.left,
						<span class="hljs-keyword">this</span>.containment[ <span class="hljs-number">3</span> ] + co.top
					];
				} <span class="hljs-keyword">else</span> {
					containment = <span class="hljs-keyword">this</span>.containment;
				}

				<span class="hljs-keyword">if</span> (event.pageX - <span class="hljs-keyword">this</span>.offset.click.left &lt; containment[<span class="hljs-number">0</span>]) {
					pageX = containment[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.offset.click.left;
				}
				<span class="hljs-keyword">if</span> (event.pageY - <span class="hljs-keyword">this</span>.offset.click.top &lt; containment[<span class="hljs-number">1</span>]) {
					pageY = containment[<span class="hljs-number">1</span>] + <span class="hljs-keyword">this</span>.offset.click.top;
				}
				<span class="hljs-keyword">if</span> (event.pageX - <span class="hljs-keyword">this</span>.offset.click.left &gt; containment[<span class="hljs-number">2</span>]) {
					pageX = containment[<span class="hljs-number">2</span>] + <span class="hljs-keyword">this</span>.offset.click.left;
				}
				<span class="hljs-keyword">if</span> (event.pageY - <span class="hljs-keyword">this</span>.offset.click.top &gt; containment[<span class="hljs-number">3</span>]) {
					pageY = containment[<span class="hljs-number">3</span>] + <span class="hljs-keyword">this</span>.offset.click.top;
				}
			}

			<span class="hljs-keyword">if</span> (o.grid) {</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>Check for grid elements set to 0 to prevent divide by 0 error causing invalid argument errors in IE (see ticket #6950)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				top = o.grid[<span class="hljs-number">1</span>] ? <span class="hljs-keyword">this</span>.originalPageY + <span class="hljs-built_in">Math</span>.round((pageY - <span class="hljs-keyword">this</span>.originalPageY) / o.grid[<span class="hljs-number">1</span>]) * o.grid[<span class="hljs-number">1</span>] : <span class="hljs-keyword">this</span>.originalPageY;
				pageY = containment ? ((top - <span class="hljs-keyword">this</span>.offset.click.top &gt;= containment[<span class="hljs-number">1</span>] || top - <span class="hljs-keyword">this</span>.offset.click.top &gt; containment[<span class="hljs-number">3</span>]) ? top : ((top - <span class="hljs-keyword">this</span>.offset.click.top &gt;= containment[<span class="hljs-number">1</span>]) ? top - o.grid[<span class="hljs-number">1</span>] : top + o.grid[<span class="hljs-number">1</span>])) : top;

				left = o.grid[<span class="hljs-number">0</span>] ? <span class="hljs-keyword">this</span>.originalPageX + <span class="hljs-built_in">Math</span>.round((pageX - <span class="hljs-keyword">this</span>.originalPageX) / o.grid[<span class="hljs-number">0</span>]) * o.grid[<span class="hljs-number">0</span>] : <span class="hljs-keyword">this</span>.originalPageX;
				pageX = containment ? ((left - <span class="hljs-keyword">this</span>.offset.click.left &gt;= containment[<span class="hljs-number">0</span>] || left - <span class="hljs-keyword">this</span>.offset.click.left &gt; containment[<span class="hljs-number">2</span>]) ? left : ((left - <span class="hljs-keyword">this</span>.offset.click.left &gt;= containment[<span class="hljs-number">0</span>]) ? left - o.grid[<span class="hljs-number">0</span>] : left + o.grid[<span class="hljs-number">0</span>])) : left;
			}

			<span class="hljs-keyword">if</span> ( o.axis === <span class="hljs-string">"y"</span> ) {
				pageX = <span class="hljs-keyword">this</span>.originalPageX;
			}

			<span class="hljs-keyword">if</span> ( o.axis === <span class="hljs-string">"x"</span> ) {
				pageY = <span class="hljs-keyword">this</span>.originalPageY;
			}
		}

		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">top</span>: (
				pageY -																	<span class="hljs-comment">// The absolute mouse position</span>
				<span class="hljs-keyword">this</span>.offset.click.top	-												<span class="hljs-comment">// Click offset (relative to the element)</span>
				<span class="hljs-keyword">this</span>.offset.relative.top -												<span class="hljs-comment">// Only for relative positioned nodes: Relative offset from element to offset parent</span>
				<span class="hljs-keyword">this</span>.offset.parent.top +												<span class="hljs-comment">// The offsetParent's offset without borders (offset + border)</span>
				( <span class="hljs-keyword">this</span>.cssPosition === <span class="hljs-string">"fixed"</span> ? -<span class="hljs-keyword">this</span>.offset.scroll.top : ( scrollIsRootNode ? <span class="hljs-number">0</span> : <span class="hljs-keyword">this</span>.offset.scroll.top ) )
			),
			<span class="hljs-attr">left</span>: (
				pageX -																	<span class="hljs-comment">// The absolute mouse position</span>
				<span class="hljs-keyword">this</span>.offset.click.left -												<span class="hljs-comment">// Click offset (relative to the element)</span>
				<span class="hljs-keyword">this</span>.offset.relative.left -												<span class="hljs-comment">// Only for relative positioned nodes: Relative offset from element to offset parent</span>
				<span class="hljs-keyword">this</span>.offset.parent.left +												<span class="hljs-comment">// The offsetParent's offset without borders (offset + border)</span>
				( <span class="hljs-keyword">this</span>.cssPosition === <span class="hljs-string">"fixed"</span> ? -<span class="hljs-keyword">this</span>.offset.scroll.left : ( scrollIsRootNode ? <span class="hljs-number">0</span> : <span class="hljs-keyword">this</span>.offset.scroll.left ) )
			)
		};

	},

	<span class="hljs-attr">_clear</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">this</span>.helper.removeClass(<span class="hljs-string">"ui-draggable-dragging"</span>);
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.helper[<span class="hljs-number">0</span>] !== <span class="hljs-keyword">this</span>.element[<span class="hljs-number">0</span>] &amp;&amp; !<span class="hljs-keyword">this</span>.cancelHelperRemoval) {
			<span class="hljs-keyword">this</span>.helper.remove();
		}
		<span class="hljs-keyword">this</span>.helper = <span class="hljs-literal">null</span>;
		<span class="hljs-keyword">this</span>.cancelHelperRemoval = <span class="hljs-literal">false</span>;
		<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">this</span>.destroyOnClear ) {
			<span class="hljs-keyword">this</span>.destroy();
		}
	},

	<span class="hljs-attr">_normalizeRightBottom</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">this</span>.options.axis !== <span class="hljs-string">"y"</span> &amp;&amp; <span class="hljs-keyword">this</span>.helper.css( <span class="hljs-string">"right"</span> ) !== <span class="hljs-string">"auto"</span> ) {
			<span class="hljs-keyword">this</span>.helper.width( <span class="hljs-keyword">this</span>.helper.width() );
			<span class="hljs-keyword">this</span>.helper.css( <span class="hljs-string">"right"</span>, <span class="hljs-string">"auto"</span> );
		}
		<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">this</span>.options.axis !== <span class="hljs-string">"x"</span> &amp;&amp; <span class="hljs-keyword">this</span>.helper.css( <span class="hljs-string">"bottom"</span> ) !== <span class="hljs-string">"auto"</span> ) {
			<span class="hljs-keyword">this</span>.helper.height( <span class="hljs-keyword">this</span>.helper.height() );
			<span class="hljs-keyword">this</span>.helper.css( <span class="hljs-string">"bottom"</span>, <span class="hljs-string">"auto"</span> );
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>From now on bulk stuff - mainly helpers</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
	_trigger: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> type, event, ui </span>) </span>{
		ui = ui || <span class="hljs-keyword">this</span>._uiHash();
		$.ui.plugin.call( <span class="hljs-keyword">this</span>, type, [ event, ui, <span class="hljs-keyword">this</span> ], <span class="hljs-literal">true</span> );</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>Absolute position and offset (see #6884 ) have to be recalculated after plugins</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> ( <span class="hljs-regexp">/^(drag|start|stop)/</span>.test( type ) ) {
			<span class="hljs-keyword">this</span>.positionAbs = <span class="hljs-keyword">this</span>._convertPositionTo( <span class="hljs-string">"absolute"</span> );
			ui.offset = <span class="hljs-keyword">this</span>.positionAbs;
		}
		<span class="hljs-keyword">return</span> $.Widget.prototype._trigger.call( <span class="hljs-keyword">this</span>, type, event, ui );
	},

	<span class="hljs-attr">plugins</span>: {},

	<span class="hljs-attr">_uiHash</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">helper</span>: <span class="hljs-keyword">this</span>.helper,
			<span class="hljs-attr">position</span>: <span class="hljs-keyword">this</span>.position,
			<span class="hljs-attr">originalPosition</span>: <span class="hljs-keyword">this</span>.originalPosition,
			<span class="hljs-attr">offset</span>: <span class="hljs-keyword">this</span>.positionAbs
		};
	}

});

$.ui.plugin.add( <span class="hljs-string">"draggable"</span>, <span class="hljs-string">"connectToSortable"</span>, {
	<span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, ui, draggable </span>) </span>{
		<span class="hljs-keyword">var</span> uiSortable = $.extend( {}, ui, {
			<span class="hljs-attr">item</span>: draggable.element
		});

		draggable.sortables = [];
		$( draggable.options.connectToSortable ).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
			<span class="hljs-keyword">var</span> sortable = $( <span class="hljs-keyword">this</span> ).sortable( <span class="hljs-string">"instance"</span> );

			<span class="hljs-keyword">if</span> ( sortable &amp;&amp; !sortable.options.disabled ) {
				draggable.sortables.push( sortable );</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p>refreshPositions is called at drag start to refresh the containerCache
which is used in drag. This ensures its initialized and synchronized
with any changes that might have happened on the page since initialization.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				sortable.refreshPositions();
				sortable._trigger(<span class="hljs-string">"activate"</span>, event, uiSortable);
			}
		});
	},
	<span class="hljs-attr">stop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, ui, draggable </span>) </span>{
		<span class="hljs-keyword">var</span> uiSortable = $.extend( {}, ui, {
			<span class="hljs-attr">item</span>: draggable.element
		});

		draggable.cancelHelperRemoval = <span class="hljs-literal">false</span>;

		$.each( draggable.sortables, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
			<span class="hljs-keyword">var</span> sortable = <span class="hljs-keyword">this</span>;

			<span class="hljs-keyword">if</span> ( sortable.isOver ) {
				sortable.isOver = <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p>Allow this sortable to handle removing the helper</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				draggable.cancelHelperRemoval = <span class="hljs-literal">true</span>;
				sortable.cancelHelperRemoval = <span class="hljs-literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p>Use _storedCSS To restore properties in the sortable,
as this also handles revert (#9675) since the draggable
may have modified them in unexpected ways (#8809)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				sortable._storedCSS = {
					<span class="hljs-attr">position</span>: sortable.placeholder.css( <span class="hljs-string">"position"</span> ),
					<span class="hljs-attr">top</span>: sortable.placeholder.css( <span class="hljs-string">"top"</span> ),
					<span class="hljs-attr">left</span>: sortable.placeholder.css( <span class="hljs-string">"left"</span> )
				};

				sortable._mouseStop(event);</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <p>Once drag has ended, the sortable should return to using
its original helper, not the shared helper from draggable</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				sortable.options.helper = sortable.options._helper;
			} <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <p>Prevent this Sortable from removing the helper.
However, dont set the draggable to remove the helper
either as another connected Sortable may yet handle the removal.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				sortable.cancelHelperRemoval = <span class="hljs-literal">true</span>;

				sortable._trigger( <span class="hljs-string">"deactivate"</span>, event, uiSortable );
			}
		});
	},
	<span class="hljs-attr">drag</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, ui, draggable </span>) </span>{
		$.each( draggable.sortables, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
			<span class="hljs-keyword">var</span> innermostIntersecting = <span class="hljs-literal">false</span>,
				sortable = <span class="hljs-keyword">this</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <p>Copy over variables that sortables _intersectsWith uses</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			sortable.positionAbs = draggable.positionAbs;
			sortable.helperProportions = draggable.helperProportions;
			sortable.offset.click = draggable.offset.click;

			<span class="hljs-keyword">if</span> ( sortable._intersectsWith( sortable.containerCache ) ) {
				innermostIntersecting = <span class="hljs-literal">true</span>;

				$.each( draggable.sortables, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-47">&#182;</a>
              </div>
              <p>Copy over variables that sortables _intersectsWith uses</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">this</span>.positionAbs = draggable.positionAbs;
					<span class="hljs-keyword">this</span>.helperProportions = draggable.helperProportions;
					<span class="hljs-keyword">this</span>.offset.click = draggable.offset.click;

					<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">this</span> !== sortable &amp;&amp;
							<span class="hljs-keyword">this</span>._intersectsWith( <span class="hljs-keyword">this</span>.containerCache ) &amp;&amp;
							$.contains( sortable.element[ <span class="hljs-number">0</span> ], <span class="hljs-keyword">this</span>.element[ <span class="hljs-number">0</span> ] ) ) {
						innermostIntersecting = <span class="hljs-literal">false</span>;
					}

					<span class="hljs-keyword">return</span> innermostIntersecting;
				});
			}

			<span class="hljs-keyword">if</span> ( innermostIntersecting ) {</pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-48">&#182;</a>
              </div>
              <p>If it intersects, we use a little isOver variable and set it once,
so that the move-in stuff gets fired only once.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="hljs-keyword">if</span> ( !sortable.isOver ) {
					sortable.isOver = <span class="hljs-number">1</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-49">&#182;</a>
              </div>
              <p>Store draggables parent in case we need to reappend to it later.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					draggable._parent = ui.helper.parent();

					sortable.currentItem = ui.helper
						.appendTo( sortable.element )
						.data( <span class="hljs-string">"ui-sortable-item"</span>, <span class="hljs-literal">true</span> );</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-50">&#182;</a>
              </div>
              <p>Store helper option to later restore it</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					sortable.options._helper = sortable.options.helper;

					sortable.options.helper = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
						<span class="hljs-keyword">return</span> ui.helper[ <span class="hljs-number">0</span> ];
					};</pre></div></div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-51">&#182;</a>
              </div>
              <p>Fire the start events of the sortable with our passed browser event,
and our own helper (so it doesnt create a new one)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					event.target = sortable.currentItem[ <span class="hljs-number">0</span> ];
					sortable._mouseCapture( event, <span class="hljs-literal">true</span> );
					sortable._mouseStart( event, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span> );</pre></div></div>
            
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-52">&#182;</a>
              </div>
              <p>Because the browser event is way off the new appended portlet,
modify necessary variables to reflect the changes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					sortable.offset.click.top = draggable.offset.click.top;
					sortable.offset.click.left = draggable.offset.click.left;
					sortable.offset.parent.left -= draggable.offset.parent.left -
						sortable.offset.parent.left;
					sortable.offset.parent.top -= draggable.offset.parent.top -
						sortable.offset.parent.top;

					draggable._trigger( <span class="hljs-string">"toSortable"</span>, event );</pre></div></div>
            
        </li>
        
        
        <li id="section-53">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-53">&#182;</a>
              </div>
              <p>Inform draggable that the helper is in a valid drop zone,
used solely in the revert option to handle valid/invalid.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					draggable.dropped = sortable.element;</pre></div></div>
            
        </li>
        
        
        <li id="section-54">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-54">&#182;</a>
              </div>
              <p>Need to refreshPositions of all sortables in the case that
adding to one sortable changes the location of the other sortables (#9675)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					$.each( draggable.sortables, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
						<span class="hljs-keyword">this</span>.refreshPositions();
					});</pre></div></div>
            
        </li>
        
        
        <li id="section-55">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-55">&#182;</a>
              </div>
              <p>hack so receive/update callbacks work (mostly)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					draggable.currentItem = draggable.element;
					sortable.fromOutside = draggable;
				}

				<span class="hljs-keyword">if</span> ( sortable.currentItem ) {
					sortable._mouseDrag( event );</pre></div></div>
            
        </li>
        
        
        <li id="section-56">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-56">&#182;</a>
              </div>
              <p>Copy the sortables position because the draggables can potentially reflect
a relative position, while sortable is always absolute, which the dragged
element has now become. (#8809)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					ui.position = sortable.position;
				}
			} <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-57">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-57">&#182;</a>
              </div>
              <p>If it doesnt intersect with the sortable, and it intersected before,
we fake the drag stop of the sortable, but make sure it doesnt remove
the helper by using cancelHelperRemoval.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="hljs-keyword">if</span> ( sortable.isOver ) {

					sortable.isOver = <span class="hljs-number">0</span>;
					sortable.cancelHelperRemoval = <span class="hljs-literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-58">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-58">&#182;</a>
              </div>
              <p>Calling sortables mouseStop would trigger a revert,
so revert must be temporarily false until after mouseStop is called.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					sortable.options._revert = sortable.options.revert;
					sortable.options.revert = <span class="hljs-literal">false</span>;

					sortable._trigger( <span class="hljs-string">"out"</span>, event, sortable._uiHash( sortable ) );
					sortable._mouseStop( event, <span class="hljs-literal">true</span> );</pre></div></div>
            
        </li>
        
        
        <li id="section-59">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-59">&#182;</a>
              </div>
              <p>restore sortable behaviors that were modfied
when the draggable entered the sortable area (#9481)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					sortable.options.revert = sortable.options._revert;
					sortable.options.helper = sortable.options._helper;

					<span class="hljs-keyword">if</span> ( sortable.placeholder ) {
						sortable.placeholder.remove();
					}</pre></div></div>
            
        </li>
        
        
        <li id="section-60">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-60">&#182;</a>
              </div>
              <p>Restore and recalculate the draggables offset considering the sortable
may have modified them in unexpected ways. (#8809, #10669)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					ui.helper.appendTo( draggable._parent );
					draggable._refreshOffsets( event );
					ui.position = draggable._generatePosition( event, <span class="hljs-literal">true</span> );

					draggable._trigger( <span class="hljs-string">"fromSortable"</span>, event );</pre></div></div>
            
        </li>
        
        
        <li id="section-61">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-61">&#182;</a>
              </div>
              <p>Inform draggable that the helper is no longer in a valid drop zone</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					draggable.dropped = <span class="hljs-literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-62">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-62">&#182;</a>
              </div>
              <p>Need to refreshPositions of all sortables just in case removing
from one sortable changes the location of other sortables (#9675)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					$.each( draggable.sortables, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
						<span class="hljs-keyword">this</span>.refreshPositions();
					});
				}
			}
		});
	}
});

$.ui.plugin.add(<span class="hljs-string">"draggable"</span>, <span class="hljs-string">"cursor"</span>, {
	<span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, ui, instance </span>) </span>{
		<span class="hljs-keyword">var</span> t = $( <span class="hljs-string">"body"</span> ),
			o = instance.options;

		<span class="hljs-keyword">if</span> (t.css(<span class="hljs-string">"cursor"</span>)) {
			o._cursor = t.css(<span class="hljs-string">"cursor"</span>);
		}
		t.css(<span class="hljs-string">"cursor"</span>, o.cursor);
	},
	<span class="hljs-attr">stop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, ui, instance </span>) </span>{
		<span class="hljs-keyword">var</span> o = instance.options;
		<span class="hljs-keyword">if</span> (o._cursor) {
			$(<span class="hljs-string">"body"</span>).css(<span class="hljs-string">"cursor"</span>, o._cursor);
		}
	}
});

$.ui.plugin.add(<span class="hljs-string">"draggable"</span>, <span class="hljs-string">"opacity"</span>, {
	<span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, ui, instance </span>) </span>{
		<span class="hljs-keyword">var</span> t = $( ui.helper ),
			o = instance.options;
		<span class="hljs-keyword">if</span> (t.css(<span class="hljs-string">"opacity"</span>)) {
			o._opacity = t.css(<span class="hljs-string">"opacity"</span>);
		}
		t.css(<span class="hljs-string">"opacity"</span>, o.opacity);
	},
	<span class="hljs-attr">stop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, ui, instance </span>) </span>{
		<span class="hljs-keyword">var</span> o = instance.options;
		<span class="hljs-keyword">if</span> (o._opacity) {
			$(ui.helper).css(<span class="hljs-string">"opacity"</span>, o._opacity);
		}
	}
});

$.ui.plugin.add(<span class="hljs-string">"draggable"</span>, <span class="hljs-string">"scroll"</span>, {
	<span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, ui, i </span>) </span>{
		<span class="hljs-keyword">if</span> ( !i.scrollParentNotHidden ) {
			i.scrollParentNotHidden = i.helper.scrollParent( <span class="hljs-literal">false</span> );
		}

		<span class="hljs-keyword">if</span> ( i.scrollParentNotHidden[ <span class="hljs-number">0</span> ] !== i.document[ <span class="hljs-number">0</span> ] &amp;&amp; i.scrollParentNotHidden[ <span class="hljs-number">0</span> ].tagName !== <span class="hljs-string">"HTML"</span> ) {
			i.overflowOffset = i.scrollParentNotHidden.offset();
		}
	},
	<span class="hljs-attr">drag</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, ui, i  </span>) </span>{

		<span class="hljs-keyword">var</span> o = i.options,
			scrolled = <span class="hljs-literal">false</span>,
			scrollParent = i.scrollParentNotHidden[ <span class="hljs-number">0</span> ],
			<span class="hljs-built_in">document</span> = i.document[ <span class="hljs-number">0</span> ];

		<span class="hljs-keyword">if</span> ( scrollParent !== <span class="hljs-built_in">document</span> &amp;&amp; scrollParent.tagName !== <span class="hljs-string">"HTML"</span> ) {
			<span class="hljs-keyword">if</span> ( !o.axis || o.axis !== <span class="hljs-string">"x"</span> ) {
				<span class="hljs-keyword">if</span> ( ( i.overflowOffset.top + scrollParent.offsetHeight ) - event.pageY &lt; o.scrollSensitivity ) {
					scrollParent.scrollTop = scrolled = scrollParent.scrollTop + o.scrollSpeed;
				} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( event.pageY - i.overflowOffset.top &lt; o.scrollSensitivity ) {
					scrollParent.scrollTop = scrolled = scrollParent.scrollTop - o.scrollSpeed;
				}
			}

			<span class="hljs-keyword">if</span> ( !o.axis || o.axis !== <span class="hljs-string">"y"</span> ) {
				<span class="hljs-keyword">if</span> ( ( i.overflowOffset.left + scrollParent.offsetWidth ) - event.pageX &lt; o.scrollSensitivity ) {
					scrollParent.scrollLeft = scrolled = scrollParent.scrollLeft + o.scrollSpeed;
				} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( event.pageX - i.overflowOffset.left &lt; o.scrollSensitivity ) {
					scrollParent.scrollLeft = scrolled = scrollParent.scrollLeft - o.scrollSpeed;
				}
			}

		} <span class="hljs-keyword">else</span> {

			<span class="hljs-keyword">if</span> (!o.axis || o.axis !== <span class="hljs-string">"x"</span>) {
				<span class="hljs-keyword">if</span> (event.pageY - $(<span class="hljs-built_in">document</span>).scrollTop() &lt; o.scrollSensitivity) {
					scrolled = $(<span class="hljs-built_in">document</span>).scrollTop($(<span class="hljs-built_in">document</span>).scrollTop() - o.scrollSpeed);
				} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ($(<span class="hljs-built_in">window</span>).height() - (event.pageY - $(<span class="hljs-built_in">document</span>).scrollTop()) &lt; o.scrollSensitivity) {
					scrolled = $(<span class="hljs-built_in">document</span>).scrollTop($(<span class="hljs-built_in">document</span>).scrollTop() + o.scrollSpeed);
				}
			}

			<span class="hljs-keyword">if</span> (!o.axis || o.axis !== <span class="hljs-string">"y"</span>) {
				<span class="hljs-keyword">if</span> (event.pageX - $(<span class="hljs-built_in">document</span>).scrollLeft() &lt; o.scrollSensitivity) {
					scrolled = $(<span class="hljs-built_in">document</span>).scrollLeft($(<span class="hljs-built_in">document</span>).scrollLeft() - o.scrollSpeed);
				} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ($(<span class="hljs-built_in">window</span>).width() - (event.pageX - $(<span class="hljs-built_in">document</span>).scrollLeft()) &lt; o.scrollSensitivity) {
					scrolled = $(<span class="hljs-built_in">document</span>).scrollLeft($(<span class="hljs-built_in">document</span>).scrollLeft() + o.scrollSpeed);
				}
			}

		}

		<span class="hljs-keyword">if</span> (scrolled !== <span class="hljs-literal">false</span> &amp;&amp; $.ui.ddmanager &amp;&amp; !o.dropBehaviour) {
			$.ui.ddmanager.prepareOffsets(i, event);
		}

	}
});

$.ui.plugin.add(<span class="hljs-string">"draggable"</span>, <span class="hljs-string">"snap"</span>, {
	<span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, ui, i </span>) </span>{

		<span class="hljs-keyword">var</span> o = i.options;

		i.snapElements = [];

		$(o.snap.constructor !== <span class="hljs-built_in">String</span> ? ( o.snap.items || <span class="hljs-string">":data(ui-draggable)"</span> ) : o.snap).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
			<span class="hljs-keyword">var</span> $t = $(<span class="hljs-keyword">this</span>),
				$o = $t.offset();
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> !== i.element[<span class="hljs-number">0</span>]) {
				i.snapElements.push({
					<span class="hljs-attr">item</span>: <span class="hljs-keyword">this</span>,
					<span class="hljs-attr">width</span>: $t.outerWidth(), <span class="hljs-attr">height</span>: $t.outerHeight(),
					<span class="hljs-attr">top</span>: $o.top, <span class="hljs-attr">left</span>: $o.left
				});
			}
		});

	},
	<span class="hljs-attr">drag</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, ui, inst </span>) </span>{

		<span class="hljs-keyword">var</span> ts, bs, ls, rs, l, r, t, b, i, first,
			o = inst.options,
			d = o.snapTolerance,
			x1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,
			y1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;

		<span class="hljs-keyword">for</span> (i = inst.snapElements.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--){

			l = inst.snapElements[i].left - inst.margins.left;
			r = l + inst.snapElements[i].width;
			t = inst.snapElements[i].top - inst.margins.top;
			b = t + inst.snapElements[i].height;

			<span class="hljs-keyword">if</span> ( x2 &lt; l - d || x1 &gt; r + d || y2 &lt; t - d || y1 &gt; b + d || !$.contains( inst.snapElements[ i ].item.ownerDocument, inst.snapElements[ i ].item ) ) {
				<span class="hljs-keyword">if</span> (inst.snapElements[i].snapping) {
					(inst.options.snap.release &amp;&amp; inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), { <span class="hljs-attr">snapItem</span>: inst.snapElements[i].item })));
				}
				inst.snapElements[i].snapping = <span class="hljs-literal">false</span>;
				<span class="hljs-keyword">continue</span>;
			}

			<span class="hljs-keyword">if</span> (o.snapMode !== <span class="hljs-string">"inner"</span>) {
				ts = <span class="hljs-built_in">Math</span>.abs(t - y2) &lt;= d;
				bs = <span class="hljs-built_in">Math</span>.abs(b - y1) &lt;= d;
				ls = <span class="hljs-built_in">Math</span>.abs(l - x2) &lt;= d;
				rs = <span class="hljs-built_in">Math</span>.abs(r - x1) &lt;= d;
				<span class="hljs-keyword">if</span> (ts) {
					ui.position.top = inst._convertPositionTo(<span class="hljs-string">"relative"</span>, { <span class="hljs-attr">top</span>: t - inst.helperProportions.height, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span> }).top;
				}
				<span class="hljs-keyword">if</span> (bs) {
					ui.position.top = inst._convertPositionTo(<span class="hljs-string">"relative"</span>, { <span class="hljs-attr">top</span>: b, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span> }).top;
				}
				<span class="hljs-keyword">if</span> (ls) {
					ui.position.left = inst._convertPositionTo(<span class="hljs-string">"relative"</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: l - inst.helperProportions.width }).left;
				}
				<span class="hljs-keyword">if</span> (rs) {
					ui.position.left = inst._convertPositionTo(<span class="hljs-string">"relative"</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: r }).left;
				}
			}

			first = (ts || bs || ls || rs);

			<span class="hljs-keyword">if</span> (o.snapMode !== <span class="hljs-string">"outer"</span>) {
				ts = <span class="hljs-built_in">Math</span>.abs(t - y1) &lt;= d;
				bs = <span class="hljs-built_in">Math</span>.abs(b - y2) &lt;= d;
				ls = <span class="hljs-built_in">Math</span>.abs(l - x1) &lt;= d;
				rs = <span class="hljs-built_in">Math</span>.abs(r - x2) &lt;= d;
				<span class="hljs-keyword">if</span> (ts) {
					ui.position.top = inst._convertPositionTo(<span class="hljs-string">"relative"</span>, { <span class="hljs-attr">top</span>: t, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span> }).top;
				}
				<span class="hljs-keyword">if</span> (bs) {
					ui.position.top = inst._convertPositionTo(<span class="hljs-string">"relative"</span>, { <span class="hljs-attr">top</span>: b - inst.helperProportions.height, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span> }).top;
				}
				<span class="hljs-keyword">if</span> (ls) {
					ui.position.left = inst._convertPositionTo(<span class="hljs-string">"relative"</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: l }).left;
				}
				<span class="hljs-keyword">if</span> (rs) {
					ui.position.left = inst._convertPositionTo(<span class="hljs-string">"relative"</span>, { <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: r - inst.helperProportions.width }).left;
				}
			}

			<span class="hljs-keyword">if</span> (!inst.snapElements[i].snapping &amp;&amp; (ts || bs || ls || rs || first)) {
				(inst.options.snap.snap &amp;&amp; inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), { <span class="hljs-attr">snapItem</span>: inst.snapElements[i].item })));
			}
			inst.snapElements[i].snapping = (ts || bs || ls || rs || first);

		}

	}
});

$.ui.plugin.add(<span class="hljs-string">"draggable"</span>, <span class="hljs-string">"stack"</span>, {
	<span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, ui, instance </span>) </span>{
		<span class="hljs-keyword">var</span> min,
			o = instance.options,
			group = $.makeArray($(o.stack)).sort(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
				<span class="hljs-keyword">return</span> (<span class="hljs-built_in">parseInt</span>($(a).css(<span class="hljs-string">"zIndex"</span>), <span class="hljs-number">10</span>) || <span class="hljs-number">0</span>) - (<span class="hljs-built_in">parseInt</span>($(b).css(<span class="hljs-string">"zIndex"</span>), <span class="hljs-number">10</span>) || <span class="hljs-number">0</span>);
			});

		<span class="hljs-keyword">if</span> (!group.length) { <span class="hljs-keyword">return</span>; }

		min = <span class="hljs-built_in">parseInt</span>($(group[<span class="hljs-number">0</span>]).css(<span class="hljs-string">"zIndex"</span>), <span class="hljs-number">10</span>) || <span class="hljs-number">0</span>;
		$(group).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
			$(<span class="hljs-keyword">this</span>).css(<span class="hljs-string">"zIndex"</span>, min + i);
		});
		<span class="hljs-keyword">this</span>.css(<span class="hljs-string">"zIndex"</span>, (min + group.length));
	}
});

$.ui.plugin.add(<span class="hljs-string">"draggable"</span>, <span class="hljs-string">"zIndex"</span>, {
	<span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, ui, instance </span>) </span>{
		<span class="hljs-keyword">var</span> t = $( ui.helper ),
			o = instance.options;

		<span class="hljs-keyword">if</span> (t.css(<span class="hljs-string">"zIndex"</span>)) {
			o._zIndex = t.css(<span class="hljs-string">"zIndex"</span>);
		}
		t.css(<span class="hljs-string">"zIndex"</span>, o.zIndex);
	},
	<span class="hljs-attr">stop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event, ui, instance </span>) </span>{
		<span class="hljs-keyword">var</span> o = instance.options;

		<span class="hljs-keyword">if</span> (o._zIndex) {
			$(ui.helper).css(<span class="hljs-string">"zIndex"</span>, o._zIndex);
		}
	}
});

<span class="hljs-keyword">return</span> $.ui.draggable;

}));</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
