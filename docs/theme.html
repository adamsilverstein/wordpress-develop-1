<!DOCTYPE html>

<html>
<head>
  <title>theme.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="accordion.html">
                  accordion.js
                </a>
              
                
                <a class="source" href="bookmarklet.html">
                  bookmarklet.js
                </a>
              
                
                <a class="source" href="bookmarklet.min.html">
                  bookmarklet.min.js
                </a>
              
                
                <a class="source" href="color-picker.html">
                  color-picker.js
                </a>
              
                
                <a class="source" href="comment.html">
                  comment.js
                </a>
              
                
                <a class="source" href="common.html">
                  common.js
                </a>
              
                
                <a class="source" href="custom-background.html">
                  custom-background.js
                </a>
              
                
                <a class="source" href="custom-header.html">
                  custom-header.js
                </a>
              
                
                <a class="source" href="customize-controls.html">
                  customize-controls.js
                </a>
              
                
                <a class="source" href="customize-nav-menus.html">
                  customize-nav-menus.js
                </a>
              
                
                <a class="source" href="customize-widgets.html">
                  customize-widgets.js
                </a>
              
                
                <a class="source" href="dashboard.html">
                  dashboard.js
                </a>
              
                
                <a class="source" href="edit-comments.html">
                  edit-comments.js
                </a>
              
                
                <a class="source" href="editor-expand.html">
                  editor-expand.js
                </a>
              
                
                <a class="source" href="editor.html">
                  editor.js
                </a>
              
                
                <a class="source" href="farbtastic.html">
                  farbtastic.js
                </a>
              
                
                <a class="source" href="gallery.html">
                  gallery.js
                </a>
              
                
                <a class="source" href="image-edit.html">
                  image-edit.js
                </a>
              
                
                <a class="source" href="inline-edit-post.html">
                  inline-edit-post.js
                </a>
              
                
                <a class="source" href="inline-edit-tax.html">
                  inline-edit-tax.js
                </a>
              
                
                <a class="source" href="iris.min.html">
                  iris.min.js
                </a>
              
                
                <a class="source" href="language-chooser.html">
                  language-chooser.js
                </a>
              
                
                <a class="source" href="link.html">
                  link.js
                </a>
              
                
                <a class="source" href="media-gallery.html">
                  media-gallery.js
                </a>
              
                
                <a class="source" href="media-upload.html">
                  media-upload.js
                </a>
              
                
                <a class="source" href="media.html">
                  media.js
                </a>
              
                
                <a class="source" href="nav-menu.html">
                  nav-menu.js
                </a>
              
                
                <a class="source" href="password-strength-meter.html">
                  password-strength-meter.js
                </a>
              
                
                <a class="source" href="plugin-install.html">
                  plugin-install.js
                </a>
              
                
                <a class="source" href="post.html">
                  post.js
                </a>
              
                
                <a class="source" href="postbox.html">
                  postbox.js
                </a>
              
                
                <a class="source" href="press-this.html">
                  press-this.js
                </a>
              
                
                <a class="source" href="revisions.html">
                  revisions.js
                </a>
              
                
                <a class="source" href="set-post-thumbnail.html">
                  set-post-thumbnail.js
                </a>
              
                
                <a class="source" href="svg-painter.html">
                  svg-painter.js
                </a>
              
                
                <a class="source" href="tags-box.html">
                  tags-box.js
                </a>
              
                
                <a class="source" href="tags-suggest.html">
                  tags-suggest.js
                </a>
              
                
                <a class="source" href="tags.html">
                  tags.js
                </a>
              
                
                <a class="source" href="theme.html">
                  theme.js
                </a>
              
                
                <a class="source" href="updates.html">
                  updates.js
                </a>
              
                
                <a class="source" href="user-profile.html">
                  user-profile.js
                </a>
              
                
                <a class="source" href="user-suggest.html">
                  user-suggest.js
                </a>
              
                
                <a class="source" href="widgets.html">
                  widgets.js
                </a>
              
                
                <a class="source" href="media-audio-widget.html">
                  media-audio-widget.js
                </a>
              
                
                <a class="source" href="media-image-widget.html">
                  media-image-widget.js
                </a>
              
                
                <a class="source" href="media-video-widget.html">
                  media-video-widget.js
                </a>
              
                
                <a class="source" href="media-widgets.html">
                  media-widgets.js
                </a>
              
                
                <a class="source" href="text-widgets.html">
                  text-widgets.js
                </a>
              
                
                <a class="source" href="word-count.html">
                  word-count.js
                </a>
              
                
                <a class="source" href="wp-fullscreen-stub.html">
                  wp-fullscreen-stub.js
                </a>
              
                
                <a class="source" href="xfn.html">
                  xfn.js
                </a>
              
                
                <a class="source" href="theme-customizer.html">
                  theme-customizer.js
                </a>
              
                
                <a class="source" href="theme-options.html">
                  theme-options.js
                </a>
              
                
                <a class="source" href="html5.html">
                  html5.js
                </a>
              
                
                <a class="source" href="showcase.html">
                  showcase.js
                </a>
              
                
                <a class="source" href="color-scheme-control.html">
                  color-scheme-control.js
                </a>
              
                
                <a class="source" href="customize-preview.html">
                  customize-preview.js
                </a>
              
                
                <a class="source" href="functions.html">
                  functions.js
                </a>
              
                
                <a class="source" href="html5.html">
                  html5.js
                </a>
              
                
                <a class="source" href="keyboard-image-navigation.html">
                  keyboard-image-navigation.js
                </a>
              
                
                <a class="source" href="skip-link-focus-fix.html">
                  skip-link-focus-fix.js
                </a>
              
                
                <a class="source" href="customizer.html">
                  customizer.js
                </a>
              
                
                <a class="source" href="featured-content-admin.html">
                  featured-content-admin.js
                </a>
              
                
                <a class="source" href="functions.html">
                  functions.js
                </a>
              
                
                <a class="source" href="html5.html">
                  html5.js
                </a>
              
                
                <a class="source" href="keyboard-image-navigation.html">
                  keyboard-image-navigation.js
                </a>
              
                
                <a class="source" href="slider.html">
                  slider.js
                </a>
              
                
                <a class="source" href="customize-controls.html">
                  customize-controls.js
                </a>
              
                
                <a class="source" href="customize-preview.html">
                  customize-preview.js
                </a>
              
                
                <a class="source" href="global.html">
                  global.js
                </a>
              
                
                <a class="source" href="html5.html">
                  html5.js
                </a>
              
                
                <a class="source" href="jquery.scrollTo.html">
                  jquery.scrollTo.js
                </a>
              
                
                <a class="source" href="navigation.html">
                  navigation.js
                </a>
              
                
                <a class="source" href="skip-link-focus-fix.html">
                  skip-link-focus-fix.js
                </a>
              
                
                <a class="source" href="functions.html">
                  functions.js
                </a>
              
                
                <a class="source" href="html5.html">
                  html5.js
                </a>
              
                
                <a class="source" href="theme-customizer.html">
                  theme-customizer.js
                </a>
              
                
                <a class="source" href="html5.html">
                  html5.js
                </a>
              
                
                <a class="source" href="navigation.html">
                  navigation.js
                </a>
              
                
                <a class="source" href="theme-customizer.html">
                  theme-customizer.js
                </a>
              
                
                <a class="source" href="admin-bar.html">
                  admin-bar.js
                </a>
              
                
                <a class="source" href="autosave.html">
                  autosave.js
                </a>
              
                
                <a class="source" href="backbone.html">
                  backbone.js
                </a>
              
                
                <a class="source" href="backbone.min.html">
                  backbone.min.js
                </a>
              
                
                <a class="source" href="colorpicker.html">
                  colorpicker.js
                </a>
              
                
                <a class="source" href="comment-reply.html">
                  comment-reply.js
                </a>
              
                
                <a class="source" href="cropper.html">
                  cropper.js
                </a>
              
                
                <a class="source" href="customize-base.html">
                  customize-base.js
                </a>
              
                
                <a class="source" href="customize-loader.html">
                  customize-loader.js
                </a>
              
                
                <a class="source" href="customize-models.html">
                  customize-models.js
                </a>
              
                
                <a class="source" href="customize-preview-nav-menus.html">
                  customize-preview-nav-menus.js
                </a>
              
                
                <a class="source" href="customize-preview-widgets.html">
                  customize-preview-widgets.js
                </a>
              
                
                <a class="source" href="customize-preview.html">
                  customize-preview.js
                </a>
              
                
                <a class="source" href="customize-selective-refresh.html">
                  customize-selective-refresh.js
                </a>
              
                
                <a class="source" href="customize-views.html">
                  customize-views.js
                </a>
              
                
                <a class="source" href="heartbeat.html">
                  heartbeat.js
                </a>
              
                
                <a class="source" href="hoverIntent.html">
                  hoverIntent.js
                </a>
              
                
                <a class="source" href="imagesloaded.min.html">
                  imagesloaded.min.js
                </a>
              
                
                <a class="source" href="jquery.imgareaselect.html">
                  jquery.imgareaselect.js
                </a>
              
                
                <a class="source" href="jquery.imgareaselect.min.html">
                  jquery.imgareaselect.min.js
                </a>
              
                
                <a class="source" href="jquery.Jcrop.min.html">
                  jquery.Jcrop.min.js
                </a>
              
                
                <a class="source" href="jquery-migrate.html">
                  jquery-migrate.js
                </a>
              
                
                <a class="source" href="jquery-migrate.min.html">
                  jquery-migrate.min.js
                </a>
              
                
                <a class="source" href="jquery.color.min.html">
                  jquery.color.min.js
                </a>
              
                
                <a class="source" href="jquery.form.html">
                  jquery.form.js
                </a>
              
                
                <a class="source" href="jquery.form.min.html">
                  jquery.form.min.js
                </a>
              
                
                <a class="source" href="jquery.hotkeys.html">
                  jquery.hotkeys.js
                </a>
              
                
                <a class="source" href="jquery.hotkeys.min.html">
                  jquery.hotkeys.min.js
                </a>
              
                
                <a class="source" href="jquery.html">
                  jquery.js
                </a>
              
                
                <a class="source" href="jquery.masonry.html">
                  jquery.masonry.js
                </a>
              
                
                <a class="source" href="jquery.masonry.min.html">
                  jquery.masonry.min.js
                </a>
              
                
                <a class="source" href="jquery.query.html">
                  jquery.query.js
                </a>
              
                
                <a class="source" href="jquery.schedule.html">
                  jquery.schedule.js
                </a>
              
                
                <a class="source" href="jquery.serialize-object.html">
                  jquery.serialize-object.js
                </a>
              
                
                <a class="source" href="jquery.table-hotkeys.html">
                  jquery.table-hotkeys.js
                </a>
              
                
                <a class="source" href="jquery.table-hotkeys.min.html">
                  jquery.table-hotkeys.min.js
                </a>
              
                
                <a class="source" href="jquery.ui.touch-punch.html">
                  jquery.ui.touch-punch.js
                </a>
              
                
                <a class="source" href="suggest.html">
                  suggest.js
                </a>
              
                
                <a class="source" href="suggest.min.html">
                  suggest.min.js
                </a>
              
                
                <a class="source" href="accordion.html">
                  accordion.js
                </a>
              
                
                <a class="source" href="autocomplete.html">
                  autocomplete.js
                </a>
              
                
                <a class="source" href="button.html">
                  button.js
                </a>
              
                
                <a class="source" href="core.html">
                  core.js
                </a>
              
                
                <a class="source" href="datepicker.html">
                  datepicker.js
                </a>
              
                
                <a class="source" href="dialog.html">
                  dialog.js
                </a>
              
                
                <a class="source" href="draggable.html">
                  draggable.js
                </a>
              
                
                <a class="source" href="droppable.html">
                  droppable.js
                </a>
              
                
                <a class="source" href="effect-blind.html">
                  effect-blind.js
                </a>
              
                
                <a class="source" href="effect-bounce.html">
                  effect-bounce.js
                </a>
              
                
                <a class="source" href="effect-clip.html">
                  effect-clip.js
                </a>
              
                
                <a class="source" href="effect-drop.html">
                  effect-drop.js
                </a>
              
                
                <a class="source" href="effect-explode.html">
                  effect-explode.js
                </a>
              
                
                <a class="source" href="effect-fade.html">
                  effect-fade.js
                </a>
              
                
                <a class="source" href="effect-fold.html">
                  effect-fold.js
                </a>
              
                
                <a class="source" href="effect-highlight.html">
                  effect-highlight.js
                </a>
              
                
                <a class="source" href="effect-puff.html">
                  effect-puff.js
                </a>
              
                
                <a class="source" href="effect-pulsate.html">
                  effect-pulsate.js
                </a>
              
                
                <a class="source" href="effect-scale.html">
                  effect-scale.js
                </a>
              
                
                <a class="source" href="effect-shake.html">
                  effect-shake.js
                </a>
              
                
                <a class="source" href="effect-size.html">
                  effect-size.js
                </a>
              
                
                <a class="source" href="effect-slide.html">
                  effect-slide.js
                </a>
              
                
                <a class="source" href="effect-transfer.html">
                  effect-transfer.js
                </a>
              
                
                <a class="source" href="effect.html">
                  effect.js
                </a>
              
                
                <a class="source" href="menu.html">
                  menu.js
                </a>
              
                
                <a class="source" href="mouse.html">
                  mouse.js
                </a>
              
                
                <a class="source" href="position.html">
                  position.js
                </a>
              
                
                <a class="source" href="progressbar.html">
                  progressbar.js
                </a>
              
                
                <a class="source" href="resizable.html">
                  resizable.js
                </a>
              
                
                <a class="source" href="selectable.html">
                  selectable.js
                </a>
              
                
                <a class="source" href="selectmenu.html">
                  selectmenu.js
                </a>
              
                
                <a class="source" href="slider.html">
                  slider.js
                </a>
              
                
                <a class="source" href="sortable.html">
                  sortable.js
                </a>
              
                
                <a class="source" href="spinner.html">
                  spinner.js
                </a>
              
                
                <a class="source" href="tabs.html">
                  tabs.js
                </a>
              
                
                <a class="source" href="tooltip.html">
                  tooltip.js
                </a>
              
                
                <a class="source" href="widget.html">
                  widget.js
                </a>
              
                
                <a class="source" href="json2.html">
                  json2.js
                </a>
              
                
                <a class="source" href="masonry.min.html">
                  masonry.min.js
                </a>
              
                
                <a class="source" href="mce-view.html">
                  mce-view.js
                </a>
              
                
                <a class="source" href="media-audiovideo.html">
                  media-audiovideo.js
                </a>
              
                
                <a class="source" href="media-editor.html">
                  media-editor.js
                </a>
              
                
                <a class="source" href="media-grid.html">
                  media-grid.js
                </a>
              
                
                <a class="source" href="media-models.html">
                  media-models.js
                </a>
              
                
                <a class="source" href="media-views.html">
                  media-views.js
                </a>
              
                
                <a class="source" href="audiovideo.manifest.html">
                  audiovideo.manifest.js
                </a>
              
                
                <a class="source" href="audio-details.html">
                  audio-details.js
                </a>
              
                
                <a class="source" href="collection-add.html">
                  collection-add.js
                </a>
              
                
                <a class="source" href="collection-edit.html">
                  collection-edit.js
                </a>
              
                
                <a class="source" href="cropper.html">
                  cropper.js
                </a>
              
                
                <a class="source" href="customize-image-cropper.html">
                  customize-image-cropper.js
                </a>
              
                
                <a class="source" href="edit-attachment-metadata.html">
                  edit-attachment-metadata.js
                </a>
              
                
                <a class="source" href="edit-image.html">
                  edit-image.js
                </a>
              
                
                <a class="source" href="embed.html">
                  embed.js
                </a>
              
                
                <a class="source" href="featured-image.html">
                  featured-image.js
                </a>
              
                
                <a class="source" href="gallery-add.html">
                  gallery-add.js
                </a>
              
                
                <a class="source" href="gallery-edit.html">
                  gallery-edit.js
                </a>
              
                
                <a class="source" href="image-details.html">
                  image-details.js
                </a>
              
                
                <a class="source" href="library.html">
                  library.js
                </a>
              
                
                <a class="source" href="media-library.html">
                  media-library.js
                </a>
              
                
                <a class="source" href="region.html">
                  region.js
                </a>
              
                
                <a class="source" href="replace-image.html">
                  replace-image.js
                </a>
              
                
                <a class="source" href="site-icon-cropper.html">
                  site-icon-cropper.js
                </a>
              
                
                <a class="source" href="state-machine.html">
                  state-machine.js
                </a>
              
                
                <a class="source" href="state.html">
                  state.js
                </a>
              
                
                <a class="source" href="video-details.html">
                  video-details.js
                </a>
              
                
                <a class="source" href="grid.manifest.html">
                  grid.manifest.js
                </a>
              
                
                <a class="source" href="models.manifest.html">
                  models.manifest.js
                </a>
              
                
                <a class="source" href="attachment.html">
                  attachment.js
                </a>
              
                
                <a class="source" href="attachments.html">
                  attachments.js
                </a>
              
                
                <a class="source" href="post-image.html">
                  post-image.js
                </a>
              
                
                <a class="source" href="post-media.html">
                  post-media.js
                </a>
              
                
                <a class="source" href="query.html">
                  query.js
                </a>
              
                
                <a class="source" href="selection.html">
                  selection.js
                </a>
              
                
                <a class="source" href="manage.html">
                  manage.js
                </a>
              
                
                <a class="source" href="selection-sync.html">
                  selection-sync.js
                </a>
              
                
                <a class="source" href="views.manifest.html">
                  views.manifest.js
                </a>
              
                
                <a class="source" href="attachment-compat.html">
                  attachment-compat.js
                </a>
              
                
                <a class="source" href="attachment-filters.html">
                  attachment-filters.js
                </a>
              
                
                <a class="source" href="all.html">
                  all.js
                </a>
              
                
                <a class="source" href="date.html">
                  date.js
                </a>
              
                
                <a class="source" href="uploaded.html">
                  uploaded.js
                </a>
              
                
                <a class="source" href="attachment.html">
                  attachment.js
                </a>
              
                
                <a class="source" href="details-two-column.html">
                  details-two-column.js
                </a>
              
                
                <a class="source" href="details.html">
                  details.js
                </a>
              
                
                <a class="source" href="edit-library.html">
                  edit-library.js
                </a>
              
                
                <a class="source" href="edit-selection.html">
                  edit-selection.js
                </a>
              
                
                <a class="source" href="library.html">
                  library.js
                </a>
              
                
                <a class="source" href="selection.html">
                  selection.js
                </a>
              
                
                <a class="source" href="attachments.html">
                  attachments.js
                </a>
              
                
                <a class="source" href="browser.html">
                  browser.js
                </a>
              
                
                <a class="source" href="selection.html">
                  selection.js
                </a>
              
                
                <a class="source" href="audio-details.html">
                  audio-details.js
                </a>
              
                
                <a class="source" href="button-group.html">
                  button-group.js
                </a>
              
                
                <a class="source" href="button.html">
                  button.js
                </a>
              
                
                <a class="source" href="delete-selected-permanently.html">
                  delete-selected-permanently.js
                </a>
              
                
                <a class="source" href="delete-selected.html">
                  delete-selected.js
                </a>
              
                
                <a class="source" href="select-mode-toggle.html">
                  select-mode-toggle.js
                </a>
              
                
                <a class="source" href="cropper.html">
                  cropper.js
                </a>
              
                
                <a class="source" href="edit-image-details.html">
                  edit-image-details.js
                </a>
              
                
                <a class="source" href="edit-image.html">
                  edit-image.js
                </a>
              
                
                <a class="source" href="embed.html">
                  embed.js
                </a>
              
                
                <a class="source" href="image.html">
                  image.js
                </a>
              
                
                <a class="source" href="link.html">
                  link.js
                </a>
              
                
                <a class="source" href="url.html">
                  url.js
                </a>
              
                
                <a class="source" href="focus-manager.html">
                  focus-manager.js
                </a>
              
                
                <a class="source" href="frame.html">
                  frame.js
                </a>
              
                
                <a class="source" href="audio-details.html">
                  audio-details.js
                </a>
              
                
                <a class="source" href="edit-attachments.html">
                  edit-attachments.js
                </a>
              
                
                <a class="source" href="image-details.html">
                  image-details.js
                </a>
              
                
                <a class="source" href="manage.html">
                  manage.js
                </a>
              
                
                <a class="source" href="media-details.html">
                  media-details.js
                </a>
              
                
                <a class="source" href="post.html">
                  post.js
                </a>
              
                
                <a class="source" href="select.html">
                  select.js
                </a>
              
                
                <a class="source" href="video-details.html">
                  video-details.js
                </a>
              
                
                <a class="source" href="iframe.html">
                  iframe.js
                </a>
              
                
                <a class="source" href="image-details.html">
                  image-details.js
                </a>
              
                
                <a class="source" href="label.html">
                  label.js
                </a>
              
                
                <a class="source" href="media-details.html">
                  media-details.js
                </a>
              
                
                <a class="source" href="media-frame.html">
                  media-frame.js
                </a>
              
                
                <a class="source" href="menu-item.html">
                  menu-item.js
                </a>
              
                
                <a class="source" href="menu.html">
                  menu.js
                </a>
              
                
                <a class="source" href="modal.html">
                  modal.js
                </a>
              
                
                <a class="source" href="priority-list.html">
                  priority-list.js
                </a>
              
                
                <a class="source" href="router-item.html">
                  router-item.js
                </a>
              
                
                <a class="source" href="router.html">
                  router.js
                </a>
              
                
                <a class="source" href="search.html">
                  search.js
                </a>
              
                
                <a class="source" href="selection.html">
                  selection.js
                </a>
              
                
                <a class="source" href="settings.html">
                  settings.js
                </a>
              
                
                <a class="source" href="attachment-display.html">
                  attachment-display.js
                </a>
              
                
                <a class="source" href="gallery.html">
                  gallery.js
                </a>
              
                
                <a class="source" href="playlist.html">
                  playlist.js
                </a>
              
                
                <a class="source" href="sidebar.html">
                  sidebar.js
                </a>
              
                
                <a class="source" href="site-icon-cropper.html">
                  site-icon-cropper.js
                </a>
              
                
                <a class="source" href="site-icon-preview.html">
                  site-icon-preview.js
                </a>
              
                
                <a class="source" href="spinner.html">
                  spinner.js
                </a>
              
                
                <a class="source" href="toolbar.html">
                  toolbar.js
                </a>
              
                
                <a class="source" href="embed.html">
                  embed.js
                </a>
              
                
                <a class="source" href="select.html">
                  select.js
                </a>
              
                
                <a class="source" href="editor.html">
                  editor.js
                </a>
              
                
                <a class="source" href="inline.html">
                  inline.js
                </a>
              
                
                <a class="source" href="status-error.html">
                  status-error.js
                </a>
              
                
                <a class="source" href="status.html">
                  status.js
                </a>
              
                
                <a class="source" href="window.html">
                  window.js
                </a>
              
                
                <a class="source" href="video-details.html">
                  video-details.js
                </a>
              
                
                <a class="source" href="view.html">
                  view.js
                </a>
              
                
                <a class="source" href="froogaloop.min.html">
                  froogaloop.min.js
                </a>
              
                
                <a class="source" href="mediaelement-and-player.min.html">
                  mediaelement-and-player.min.js
                </a>
              
                
                <a class="source" href="wp-mediaelement.html">
                  wp-mediaelement.js
                </a>
              
                
                <a class="source" href="wp-playlist.html">
                  wp-playlist.js
                </a>
              
                
                <a class="source" href="handlers.html">
                  handlers.js
                </a>
              
                
                <a class="source" href="plupload.full.min.html">
                  plupload.full.min.js
                </a>
              
                
                <a class="source" href="wp-plupload.html">
                  wp-plupload.js
                </a>
              
                
                <a class="source" href="quicktags.html">
                  quicktags.js
                </a>
              
                
                <a class="source" href="shortcode.html">
                  shortcode.js
                </a>
              
                
                <a class="source" href="swfobject.html">
                  swfobject.js
                </a>
              
                
                <a class="source" href="handlers.html">
                  handlers.js
                </a>
              
                
                <a class="source" href="handlers.min.html">
                  handlers.min.js
                </a>
              
                
                <a class="source" href="swfupload.cookies.html">
                  swfupload.cookies.js
                </a>
              
                
                <a class="source" href="swfupload.queue.html">
                  swfupload.queue.js
                </a>
              
                
                <a class="source" href="swfupload.speed.html">
                  swfupload.speed.js
                </a>
              
                
                <a class="source" href="swfupload.swfobject.html">
                  swfupload.swfobject.js
                </a>
              
                
                <a class="source" href="swfupload.html">
                  swfupload.js
                </a>
              
                
                <a class="source" href="thickbox.html">
                  thickbox.js
                </a>
              
                
                <a class="source" href="wp-langs-en.html">
                  wp-langs-en.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.min.html">
                  plugin.min.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="plugin.html">
                  plugin.js
                </a>
              
                
                <a class="source" href="theme.html">
                  theme.js
                </a>
              
                
                <a class="source" href="theme.min.html">
                  theme.min.js
                </a>
              
                
                <a class="source" href="theme.html">
                  theme.js
                </a>
              
                
                <a class="source" href="theme.min.html">
                  theme.min.js
                </a>
              
                
                <a class="source" href="tiny_mce_popup.html">
                  tiny_mce_popup.js
                </a>
              
                
                <a class="source" href="tinymce.html">
                  tinymce.js
                </a>
              
                
                <a class="source" href="tinymce.min.html">
                  tinymce.min.js
                </a>
              
                
                <a class="source" href="editable_selects.html">
                  editable_selects.js
                </a>
              
                
                <a class="source" href="form_utils.html">
                  form_utils.js
                </a>
              
                
                <a class="source" href="mctabs.html">
                  mctabs.js
                </a>
              
                
                <a class="source" href="validate.html">
                  validate.js
                </a>
              
                
                <a class="source" href="tw-sack.html">
                  tw-sack.js
                </a>
              
                
                <a class="source" href="twemoji.html">
                  twemoji.js
                </a>
              
                
                <a class="source" href="underscore.html">
                  underscore.js
                </a>
              
                
                <a class="source" href="underscore.min.html">
                  underscore.min.js
                </a>
              
                
                <a class="source" href="utils.html">
                  utils.js
                </a>
              
                
                <a class="source" href="wp-a11y.html">
                  wp-a11y.js
                </a>
              
                
                <a class="source" href="wp-ajax-response.html">
                  wp-ajax-response.js
                </a>
              
                
                <a class="source" href="wp-api.html">
                  wp-api.js
                </a>
              
                
                <a class="source" href="wp-auth-check.html">
                  wp-auth-check.js
                </a>
              
                
                <a class="source" href="wp-backbone.html">
                  wp-backbone.js
                </a>
              
                
                <a class="source" href="wp-custom-header.html">
                  wp-custom-header.js
                </a>
              
                
                <a class="source" href="wp-embed-template.html">
                  wp-embed-template.js
                </a>
              
                
                <a class="source" href="wp-embed.html">
                  wp-embed.js
                </a>
              
                
                <a class="source" href="wp-emoji-loader.html">
                  wp-emoji-loader.js
                </a>
              
                
                <a class="source" href="wp-emoji.html">
                  wp-emoji.js
                </a>
              
                
                <a class="source" href="wp-list-revisions.html">
                  wp-list-revisions.js
                </a>
              
                
                <a class="source" href="wp-lists.html">
                  wp-lists.js
                </a>
              
                
                <a class="source" href="wp-pointer.html">
                  wp-pointer.js
                </a>
              
                
                <a class="source" href="wp-util.html">
                  wp-util.js
                </a>
              
                
                <a class="source" href="wpdialog.html">
                  wpdialog.js
                </a>
              
                
                <a class="source" href="wplink.html">
                  wplink.js
                </a>
              
                
                <a class="source" href="zxcvbn-async.html">
                  zxcvbn-async.js
                </a>
              
                
                <a class="source" href="zxcvbn.min.html">
                  zxcvbn.min.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>theme.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

<span class="hljs-keyword">var</span> defs = {}; <span class="hljs-comment">// id -&gt; {dependencies, definition, instance (possibly undefined)}</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Used when there is no main module.
The name is probably (hopefully) unique so minification removes for releases.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> register_3795 = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">id</span>) </span>{
  <span class="hljs-keyword">var</span> <span class="hljs-built_in">module</span> = dem(id);
  <span class="hljs-keyword">var</span> fragments = id.split(<span class="hljs-string">'.'</span>);
  <span class="hljs-keyword">var</span> target = <span class="hljs-built_in">Function</span>(<span class="hljs-string">'return this;'</span>)();
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; fragments.length - <span class="hljs-number">1</span>; ++i) {
    <span class="hljs-keyword">if</span> (target[fragments[i]] === <span class="hljs-literal">undefined</span>)
      target[fragments[i]] = {};
    target = target[fragments[i]];
  }
  target[fragments[fragments.length - <span class="hljs-number">1</span>]] = <span class="hljs-built_in">module</span>;
};

<span class="hljs-keyword">var</span> instantiate = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">id</span>) </span>{
  <span class="hljs-keyword">var</span> actual = defs[id];
  <span class="hljs-keyword">var</span> dependencies = actual.deps;
  <span class="hljs-keyword">var</span> definition = actual.defn;
  <span class="hljs-keyword">var</span> len = dependencies.length;
  <span class="hljs-keyword">var</span> instances = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(len);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; len; ++i)
    instances[i] = dem(dependencies[i]);
  <span class="hljs-keyword">var</span> defResult = definition.apply(<span class="hljs-literal">null</span>, instances);
  <span class="hljs-keyword">if</span> (defResult === <span class="hljs-literal">undefined</span>)
     <span class="hljs-keyword">throw</span> <span class="hljs-string">'module ['</span> + id + <span class="hljs-string">'] returned undefined'</span>;
  actual.instance = defResult;
};

<span class="hljs-keyword">var</span> def = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">id, dependencies, definition</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> id !== <span class="hljs-string">'string'</span>)
    <span class="hljs-keyword">throw</span> <span class="hljs-string">'module id must be a string'</span>;
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dependencies === <span class="hljs-literal">undefined</span>)
    <span class="hljs-keyword">throw</span> <span class="hljs-string">'no dependencies for '</span> + id;
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (definition === <span class="hljs-literal">undefined</span>)
    <span class="hljs-keyword">throw</span> <span class="hljs-string">'no definition function for '</span> + id;
  defs[id] = {
    <span class="hljs-attr">deps</span>: dependencies,
    <span class="hljs-attr">defn</span>: definition,
    <span class="hljs-attr">instance</span>: <span class="hljs-literal">undefined</span>
  };
};

<span class="hljs-keyword">var</span> dem = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">id</span>) </span>{
  <span class="hljs-keyword">var</span> actual = defs[id];
  <span class="hljs-keyword">if</span> (actual === <span class="hljs-literal">undefined</span>)
    <span class="hljs-keyword">throw</span> <span class="hljs-string">'module ['</span> + id + <span class="hljs-string">'] was undefined'</span>;
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (actual.instance === <span class="hljs-literal">undefined</span>)
    instantiate(id);
  <span class="hljs-keyword">return</span> actual.instance;
};

<span class="hljs-keyword">var</span> req = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">ids, callback</span>) </span>{
  <span class="hljs-keyword">var</span> len = ids.length;
  <span class="hljs-keyword">var</span> instances = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(len);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; len; ++i)
    instances.push(dem(ids[i]));
  callback.apply(<span class="hljs-literal">null</span>, callback);
};

<span class="hljs-keyword">var</span> ephox = {};

ephox.bolt = {
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">api</span>: {
      <span class="hljs-attr">define</span>: def,
      <span class="hljs-attr">require</span>: req,
      <span class="hljs-attr">demand</span>: dem
    }
  }
};

<span class="hljs-keyword">var</span> define = def;
<span class="hljs-keyword">var</span> <span class="hljs-built_in">require</span> = req;
<span class="hljs-keyword">var</span> demand = dem;</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>this helps with minificiation when using a lot of global references</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> defineGlobal = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">id, ref</span>) </span>{
  define(id, [], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> ref; });
};
<span class="hljs-comment">/*jsc
["tinymce.themes.modern.Theme","global!window","tinymce.core.AddOnManager","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.ui.Api","tinymce.themes.modern.modes.Iframe","tinymce.themes.modern.modes.Inline","tinymce.themes.modern.ui.ProgressState","tinymce.themes.modern.ui.Resize","global!tinymce.util.Tools.resolve","tinymce.core.dom.DOMUtils","tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.themes.modern.ui.A11y","tinymce.themes.modern.ui.Branding","tinymce.themes.modern.ui.ContextToolbars","tinymce.themes.modern.ui.Menubar","tinymce.themes.modern.ui.Sidebar","tinymce.themes.modern.ui.SkinLoaded","tinymce.themes.modern.ui.Toolbar","tinymce.core.ui.FloatPanel","tinymce.core.ui.Throbber","tinymce.core.util.Delay","tinymce.core.geom.Rect"]
jsc*/</span>
defineGlobal(<span class="hljs-string">"global!window"</span>, <span class="hljs-built_in">window</span>);
defineGlobal(<span class="hljs-string">"global!tinymce.util.Tools.resolve"</span>, tinymce.util.Tools.resolve);
<span class="hljs-comment">/**
 * ResolveGlobal.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.core.AddOnManager'</span>,
  [
    <span class="hljs-string">'global!tinymce.util.Tools.resolve'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>{
    <span class="hljs-keyword">return</span> resolve(<span class="hljs-string">'tinymce.AddOnManager'</span>);
  }
);

<span class="hljs-comment">/**
 * ResolveGlobal.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.core.EditorManager'</span>,
  [
    <span class="hljs-string">'global!tinymce.util.Tools.resolve'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>{
    <span class="hljs-keyword">return</span> resolve(<span class="hljs-string">'tinymce.EditorManager'</span>);
  }
);

<span class="hljs-comment">/**
 * ResolveGlobal.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.core.Env'</span>,
  [
    <span class="hljs-string">'global!tinymce.util.Tools.resolve'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>{
    <span class="hljs-keyword">return</span> resolve(<span class="hljs-string">'tinymce.Env'</span>);
  }
);

<span class="hljs-comment">/**
 * ResolveGlobal.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.core.ui.Api'</span>,
  [
    <span class="hljs-string">'global!tinymce.util.Tools.resolve'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>{
    <span class="hljs-keyword">return</span> resolve(<span class="hljs-string">'tinymce.ui.Api'</span>);
  }
);

<span class="hljs-comment">/**
 * ResolveGlobal.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.core.dom.DOMUtils'</span>,
  [
    <span class="hljs-string">'global!tinymce.util.Tools.resolve'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>{
    <span class="hljs-keyword">return</span> resolve(<span class="hljs-string">'tinymce.dom.DOMUtils'</span>);
  }
);

<span class="hljs-comment">/**
 * ResolveGlobal.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.core.ui.Factory'</span>,
  [
    <span class="hljs-string">'global!tinymce.util.Tools.resolve'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>{
    <span class="hljs-keyword">return</span> resolve(<span class="hljs-string">'tinymce.ui.Factory'</span>);
  }
);

<span class="hljs-comment">/**
 * ResolveGlobal.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.core.util.Tools'</span>,
  [
    <span class="hljs-string">'global!tinymce.util.Tools.resolve'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>{
    <span class="hljs-keyword">return</span> resolve(<span class="hljs-string">'tinymce.util.Tools'</span>);
  }
);

<span class="hljs-comment">/**
 * A11y.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.themes.modern.ui.A11y'</span>,
  [
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> focus = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">panel, type</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> item = panel.find(type)[<span class="hljs-number">0</span>];

        <span class="hljs-keyword">if</span> (item) {
          item.focus(<span class="hljs-literal">true</span>);
        }
      };
    };

    <span class="hljs-keyword">var</span> addKeys = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor, panel</span>) </span>{
      editor.shortcuts.add(<span class="hljs-string">'Alt+F9'</span>, <span class="hljs-string">''</span>, focus(panel, <span class="hljs-string">'menubar'</span>));
      editor.shortcuts.add(<span class="hljs-string">'Alt+F10,F10'</span>, <span class="hljs-string">''</span>, focus(panel, <span class="hljs-string">'toolbar'</span>));
      editor.shortcuts.add(<span class="hljs-string">'Alt+F11'</span>, <span class="hljs-string">''</span>, focus(panel, <span class="hljs-string">'elementpath'</span>));
      panel.on(<span class="hljs-string">'cancel'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        editor.focus();
      });
    };

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">addKeys</span>: addKeys
    };
  }
);

<span class="hljs-comment">/**
 * Branding.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.themes.modern.ui.Branding'</span>,
  [
    <span class="hljs-string">'tinymce.core.dom.DOMUtils'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">DOMUtils</span>) </span>{
    <span class="hljs-keyword">var</span> DOM = DOMUtils.DOM;

    <span class="hljs-keyword">var</span> reposition = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor, poweredByElm</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> iframeWidth = editor.getContentAreaContainer().querySelector(<span class="hljs-string">'iframe'</span>).offsetWidth;
        <span class="hljs-keyword">var</span> scrollbarWidth = <span class="hljs-built_in">Math</span>.max(iframeWidth - editor.getDoc().documentElement.offsetWidth, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">var</span> statusbarElm = editor.getContainer().querySelector(<span class="hljs-string">'.mce-statusbar'</span>);
        <span class="hljs-keyword">var</span> statusbarHeight = statusbarElm ? statusbarElm.offsetHeight : <span class="hljs-number">1</span>;

        DOM.setStyles(poweredByElm, {
          <span class="hljs-attr">right</span>: scrollbarWidth + <span class="hljs-string">'px'</span>,
          <span class="hljs-attr">bottom</span>: statusbarHeight + <span class="hljs-string">'px'</span>
        });
      };
    };

    <span class="hljs-keyword">var</span> hide = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">poweredByElm</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        DOM.hide(poweredByElm);
      };
    };

    <span class="hljs-keyword">var</span> setupEventListeners = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor</span>) </span>{
      editor.on(<span class="hljs-string">'SkinLoaded'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> poweredByElm = DOM.create(<span class="hljs-string">'div'</span>, { <span class="hljs-string">'class'</span>: <span class="hljs-string">'mce-branding-powered-by'</span> });
        editor.getContainer().appendChild(poweredByElm);
        DOM.bind(poweredByElm, <span class="hljs-string">'click'</span>, hide(poweredByElm));
        reposition(editor, poweredByElm)();
        editor.on(<span class="hljs-string">'NodeChange ResizeEditor'</span>, reposition(editor, poweredByElm));
      });
    };

    <span class="hljs-keyword">var</span> setup = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor</span>) </span>{
      <span class="hljs-keyword">if</span> (editor.settings.branding !== <span class="hljs-literal">false</span>) {
        setupEventListeners(editor);
      }
    };

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">setup</span>: setup
    };
  }
);

<span class="hljs-comment">/**
 * ResolveGlobal.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.core.util.Delay'</span>,
  [
    <span class="hljs-string">'global!tinymce.util.Tools.resolve'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>{
    <span class="hljs-keyword">return</span> resolve(<span class="hljs-string">'tinymce.util.Delay'</span>);
  }
);

<span class="hljs-comment">/**
 * ResolveGlobal.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.core.geom.Rect'</span>,
  [
    <span class="hljs-string">'global!tinymce.util.Tools.resolve'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>{
    <span class="hljs-keyword">return</span> resolve(<span class="hljs-string">'tinymce.geom.Rect'</span>);
  }
);

<span class="hljs-comment">/**
 * Toolbar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.themes.modern.ui.Toolbar'</span>,
  [
    <span class="hljs-string">'tinymce.core.util.Tools'</span>,
    <span class="hljs-string">'tinymce.core.ui.Factory'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">Tools, Factory</span>) </span>{
    <span class="hljs-keyword">var</span> defaultToolbar = <span class="hljs-string">"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | "</span> +
      <span class="hljs-string">"bullist numlist outdent indent | link image"</span>;

    <span class="hljs-keyword">var</span> createToolbar = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor, items, size</span>) </span>{
      <span class="hljs-keyword">var</span> toolbarItems = [], buttonGroup;

      <span class="hljs-keyword">if</span> (!items) {
        <span class="hljs-keyword">return</span>;
      }

      Tools.each(items.split(<span class="hljs-regexp">/[ ,]/</span>), <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">var</span> itemName;

        <span class="hljs-keyword">var</span> bindSelectorChanged = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
          <span class="hljs-keyword">var</span> selection = editor.selection;

          <span class="hljs-keyword">if</span> (item.settings.stateSelector) {
            selection.selectorChanged(item.settings.stateSelector, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">state</span>) </span>{
              item.active(state);
            }, <span class="hljs-literal">true</span>);
          }

          <span class="hljs-keyword">if</span> (item.settings.disabledStateSelector) {
            selection.selectorChanged(item.settings.disabledStateSelector, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">state</span>) </span>{
              item.disabled(state);
            });
          }
        };

        <span class="hljs-keyword">if</span> (item == <span class="hljs-string">"|"</span>) {
          buttonGroup = <span class="hljs-literal">null</span>;
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">if</span> (!buttonGroup) {
            buttonGroup = { <span class="hljs-attr">type</span>: <span class="hljs-string">'buttongroup'</span>, <span class="hljs-attr">items</span>: [] };
            toolbarItems.push(buttonGroup);
          }

          <span class="hljs-keyword">if</span> (editor.buttons[item]) {</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>TODO: Move control creation to some UI class</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            itemName = item;
            item = editor.buttons[itemName];

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> item == <span class="hljs-string">"function"</span>) {
              item = item();
            }

            item.type = item.type || <span class="hljs-string">'button'</span>;
            item.size = size;

            item = Factory.create(item);
            buttonGroup.items.push(item);

            <span class="hljs-keyword">if</span> (editor.initialized) {
              bindSelectorChanged();
            } <span class="hljs-keyword">else</span> {
              editor.on(<span class="hljs-string">'init'</span>, bindSelectorChanged);
            }
          }
        }
      });

      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'toolbar'</span>,
        <span class="hljs-attr">layout</span>: <span class="hljs-string">'flow'</span>,
        <span class="hljs-attr">items</span>: toolbarItems
      };
    };

    <span class="hljs-comment">/**
     * Creates the toolbars from config and returns a toolbar array.
     *
     * @param {String} size Optional toolbar item size.
     * @return {Array} Array with toolbars.
     */</span>
    <span class="hljs-keyword">var</span> createToolbars = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor, size</span>) </span>{
      <span class="hljs-keyword">var</span> toolbars = [], settings = editor.settings;

      <span class="hljs-keyword">var</span> addToolbar = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">items</span>) </span>{
        <span class="hljs-keyword">if</span> (items) {
          toolbars.push(createToolbar(editor, items, size));
          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
      };</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Convert toolbar array to multiple options</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> (Tools.isArray(settings.toolbar)) {</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Empty toolbar array is the same as a disabled toolbar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (settings.toolbar.length === <span class="hljs-number">0</span>) {
          <span class="hljs-keyword">return</span>;
        }

        Tools.each(settings.toolbar, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">toolbar, i</span>) </span>{
          settings[<span class="hljs-string">"toolbar"</span> + (i + <span class="hljs-number">1</span>)] = toolbar;
        });

        <span class="hljs-keyword">delete</span> settings.toolbar;
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Generate toolbar<n></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">10</span>; i++) {
        <span class="hljs-keyword">if</span> (!addToolbar(settings[<span class="hljs-string">"toolbar"</span> + i])) {
          <span class="hljs-keyword">break</span>;
        }
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Generate toolbar or default toolbar unless its disabled</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> (!toolbars.length &amp;&amp; settings.toolbar !== <span class="hljs-literal">false</span>) {
        addToolbar(settings.toolbar || defaultToolbar);
      }

      <span class="hljs-keyword">if</span> (toolbars.length) {
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'panel'</span>,
          <span class="hljs-attr">layout</span>: <span class="hljs-string">'stack'</span>,
          <span class="hljs-attr">classes</span>: <span class="hljs-string">"toolbar-grp"</span>,
          <span class="hljs-attr">ariaRoot</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">ariaRemember</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">items</span>: toolbars
        };
      }
    };

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">createToolbar</span>: createToolbar,
      <span class="hljs-attr">createToolbars</span>: createToolbars
    };
  }
);

<span class="hljs-comment">/**
 * ContextToolbars.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.themes.modern.ui.ContextToolbars'</span>,
  [
    <span class="hljs-string">'tinymce.core.dom.DOMUtils'</span>,
    <span class="hljs-string">'tinymce.core.util.Tools'</span>,
    <span class="hljs-string">'tinymce.core.util.Delay'</span>,
    <span class="hljs-string">'tinymce.core.ui.Factory'</span>,
    <span class="hljs-string">'tinymce.core.geom.Rect'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.Toolbar'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">DOMUtils, Tools, Delay, Factory, Rect, Toolbar</span>) </span>{
    <span class="hljs-keyword">var</span> DOM = DOMUtils.DOM;

    <span class="hljs-keyword">var</span> toClientRect = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">geomRect</span>) </span>{
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">left</span>: geomRect.x,
        <span class="hljs-attr">top</span>: geomRect.y,
        <span class="hljs-attr">width</span>: geomRect.w,
        <span class="hljs-attr">height</span>: geomRect.h,
        <span class="hljs-attr">right</span>: geomRect.x + geomRect.w,
        <span class="hljs-attr">bottom</span>: geomRect.y + geomRect.h
      };
    };

    <span class="hljs-keyword">var</span> hideAllFloatingPanels = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor</span>) </span>{
      Tools.each(editor.contextToolbars, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">toolbar</span>) </span>{
        <span class="hljs-keyword">if</span> (toolbar.panel) {
          toolbar.panel.hide();
        }
      });
    };

    <span class="hljs-keyword">var</span> movePanelTo = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">panel, pos</span>) </span>{
      panel.moveTo(pos.left, pos.top);
    };

    <span class="hljs-keyword">var</span> togglePositionClass = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">panel, relPos, predicate</span>) </span>{
      relPos = relPos ? relPos.substr(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>) : <span class="hljs-string">''</span>;

      Tools.each({
        <span class="hljs-attr">t</span>: <span class="hljs-string">'down'</span>,
        <span class="hljs-attr">b</span>: <span class="hljs-string">'up'</span>
      }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">cls, pos</span>) </span>{
        panel.classes.toggle(<span class="hljs-string">'arrow-'</span> + cls, predicate(pos, relPos.substr(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)));
      });

      Tools.each({
        <span class="hljs-attr">l</span>: <span class="hljs-string">'left'</span>,
        <span class="hljs-attr">r</span>: <span class="hljs-string">'right'</span>
      }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">cls, pos</span>) </span>{
        panel.classes.toggle(<span class="hljs-string">'arrow-'</span> + cls, predicate(pos, relPos.substr(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)));
      });
    };

    <span class="hljs-keyword">var</span> userConstrain = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">handler, x, y, elementRect, contentAreaRect, panelRect</span>) </span>{
      panelRect = toClientRect({ <span class="hljs-attr">x</span>: x, <span class="hljs-attr">y</span>: y, <span class="hljs-attr">w</span>: panelRect.w, <span class="hljs-attr">h</span>: panelRect.h });

      <span class="hljs-keyword">if</span> (handler) {
        panelRect = handler({
          <span class="hljs-attr">elementRect</span>: toClientRect(elementRect),
          <span class="hljs-attr">contentAreaRect</span>: toClientRect(contentAreaRect),
          <span class="hljs-attr">panelRect</span>: panelRect
        });
      }

      <span class="hljs-keyword">return</span> panelRect;
    };

    <span class="hljs-keyword">var</span> addContextualToolbars = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor</span>) </span>{
      <span class="hljs-keyword">var</span> scrollContainer, settings = editor.settings;

      <span class="hljs-keyword">var</span> getContextToolbars = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> editor.contextToolbars || [];
      };

      <span class="hljs-keyword">var</span> getElementRect = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">elm</span>) </span>{
        <span class="hljs-keyword">var</span> pos, targetRect, root;

        pos = DOM.getPos(editor.getContentAreaContainer());
        targetRect = editor.dom.getRect(elm);
        root = editor.dom.getRoot();</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Adjust targetPos for scrolling in the editor</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (root.nodeName === <span class="hljs-string">'BODY'</span>) {
          targetRect.x -= root.ownerDocument.documentElement.scrollLeft || root.scrollLeft;
          targetRect.y -= root.ownerDocument.documentElement.scrollTop || root.scrollTop;
        }

        targetRect.x += pos.x;
        targetRect.y += pos.y;

        <span class="hljs-keyword">return</span> targetRect;
      };

      <span class="hljs-keyword">var</span> reposition = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">match, shouldShow</span>) </span>{
        <span class="hljs-keyword">var</span> relPos, panelRect, elementRect, contentAreaRect, panel, relRect, testPositions, smallElementWidthThreshold;
        <span class="hljs-keyword">var</span> handler = settings.inline_toolbar_position_handler;

        <span class="hljs-keyword">if</span> (editor.removed) {
          <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">if</span> (!match || !match.toolbar.panel) {
          hideAllFloatingPanels(editor);
          <span class="hljs-keyword">return</span>;
        }

        testPositions = [
          <span class="hljs-string">'bc-tc'</span>, <span class="hljs-string">'tc-bc'</span>,
          <span class="hljs-string">'tl-bl'</span>, <span class="hljs-string">'bl-tl'</span>,
          <span class="hljs-string">'tr-br'</span>, <span class="hljs-string">'br-tr'</span>
        ];

        panel = match.toolbar.panel;</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Only show the panel on some events not for example nodeChange since that fires when context menu is opened</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (shouldShow) {
          panel.show();
        }

        elementRect = getElementRect(match.element);
        panelRect = DOM.getRect(panel.getEl());
        contentAreaRect = DOM.getRect(editor.getContentAreaContainer() || editor.getBody());
        smallElementWidthThreshold = <span class="hljs-number">25</span>;

        <span class="hljs-keyword">if</span> (DOM.getStyle(match.element, <span class="hljs-string">'display'</span>, <span class="hljs-literal">true</span>) !== <span class="hljs-string">'inline'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>We need to use these instead of the rect values since the style
size properites might not be the same as the real size for a table</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          elementRect.w = match.element.clientWidth;
          elementRect.h = match.element.clientHeight;
        }

        <span class="hljs-keyword">if</span> (!editor.inline) {
          contentAreaRect.w = editor.getDoc().documentElement.offsetWidth;
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Inflate the elementRect so it doesnt get placed above resize handles</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (editor.selection.controlSelection.isResizable(match.element) &amp;&amp; elementRect.w &lt; smallElementWidthThreshold) {
          elementRect = Rect.inflate(elementRect, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>);
        }

        relPos = Rect.findBestRelativePosition(panelRect, elementRect, contentAreaRect, testPositions);
        elementRect = Rect.clamp(elementRect, contentAreaRect);

        <span class="hljs-keyword">if</span> (relPos) {
          relRect = Rect.relativePosition(panelRect, elementRect, relPos);
          movePanelTo(panel, userConstrain(handler, relRect.x, relRect.y, elementRect, contentAreaRect, panelRect));
        } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Allow overflow below the editor to avoid placing toolbars ontop of tables</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          contentAreaRect.h += panelRect.h;

          elementRect = Rect.intersect(contentAreaRect, elementRect);
          <span class="hljs-keyword">if</span> (elementRect) {
            relPos = Rect.findBestRelativePosition(panelRect, elementRect, contentAreaRect, [
              <span class="hljs-string">'bc-tc'</span>, <span class="hljs-string">'bl-tl'</span>, <span class="hljs-string">'br-tr'</span>
            ]);

            <span class="hljs-keyword">if</span> (relPos) {
              relRect = Rect.relativePosition(panelRect, elementRect, relPos);
              movePanelTo(panel, userConstrain(handler, relRect.x, relRect.y, elementRect, contentAreaRect, panelRect));
            } <span class="hljs-keyword">else</span> {
              movePanelTo(panel, userConstrain(handler, elementRect.x, elementRect.y, elementRect, contentAreaRect, panelRect));
            }
          } <span class="hljs-keyword">else</span> {
            panel.hide();
          }
        }

        togglePositionClass(panel, relPos, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">pos1, pos2</span>) </span>{
          <span class="hljs-keyword">return</span> pos1 === pos2;
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>drawRect(contentAreaRect, blue);
drawRect(elementRect, red);
drawRect(panelRect, green);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      };

      <span class="hljs-keyword">var</span> repositionHandler = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">show</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
          <span class="hljs-keyword">var</span> execute = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (editor.selection) {
              reposition(findFrontMostMatch(editor.selection.getNode()), show);
            }
          };

          Delay.requestAnimationFrame(execute);
        };
      };

      <span class="hljs-keyword">var</span> bindScrollEvent = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!scrollContainer) {
          scrollContainer = editor.selection.getScrollContainer() || editor.getWin();
          DOM.bind(scrollContainer, <span class="hljs-string">'scroll'</span>, repositionHandler(<span class="hljs-literal">true</span>));

          editor.on(<span class="hljs-string">'remove'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            DOM.unbind(scrollContainer, <span class="hljs-string">'scroll'</span>);
          });
        }
      };

      <span class="hljs-keyword">var</span> showContextToolbar = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">match</span>) </span>{
        <span class="hljs-keyword">var</span> panel;

        <span class="hljs-keyword">if</span> (match.toolbar.panel) {
          match.toolbar.panel.show();
          reposition(match);
          <span class="hljs-keyword">return</span>;
        }

        bindScrollEvent();

        panel = Factory.create({
          <span class="hljs-attr">type</span>: <span class="hljs-string">'floatpanel'</span>,
          <span class="hljs-attr">role</span>: <span class="hljs-string">'dialog'</span>,
          <span class="hljs-attr">classes</span>: <span class="hljs-string">'tinymce tinymce-inline arrow'</span>,
          <span class="hljs-attr">ariaLabel</span>: <span class="hljs-string">'Inline toolbar'</span>,
          <span class="hljs-attr">layout</span>: <span class="hljs-string">'flex'</span>,
          <span class="hljs-attr">direction</span>: <span class="hljs-string">'column'</span>,
          <span class="hljs-attr">align</span>: <span class="hljs-string">'stretch'</span>,
          <span class="hljs-attr">autohide</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">autofix</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">fixed</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">border</span>: <span class="hljs-number">1</span>,
          <span class="hljs-attr">items</span>: Toolbar.createToolbar(editor, match.toolbar.items),
          <span class="hljs-attr">oncancel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            editor.focus();
          }
        });

        match.toolbar.panel = panel;
        panel.renderTo(<span class="hljs-built_in">document</span>.body).reflow();
        reposition(match);
      };

      <span class="hljs-keyword">var</span> hideAllContextToolbars = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        Tools.each(getContextToolbars(), <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">toolbar</span>) </span>{
          <span class="hljs-keyword">if</span> (toolbar.panel) {
            toolbar.panel.hide();
          }
        });
      };

      <span class="hljs-keyword">var</span> findFrontMostMatch = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">targetElm</span>) </span>{
        <span class="hljs-keyword">var</span> i, y, parentsAndSelf, toolbars = getContextToolbars();

        parentsAndSelf = editor.$(targetElm).parents().add(targetElm);
        <span class="hljs-keyword">for</span> (i = parentsAndSelf.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
          <span class="hljs-keyword">for</span> (y = toolbars.length - <span class="hljs-number">1</span>; y &gt;= <span class="hljs-number">0</span>; y--) {
            <span class="hljs-keyword">if</span> (toolbars[y].predicate(parentsAndSelf[i])) {
              <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">toolbar</span>: toolbars[y],
                <span class="hljs-attr">element</span>: parentsAndSelf[i]
              };
            }
          }
        }

        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
      };

      editor.on(<span class="hljs-string">'click keyup setContent ObjectResized'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>Only act on partial inserts</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (e.type === <span class="hljs-string">'setcontent'</span> &amp;&amp; !e.selection) {
          <span class="hljs-keyword">return</span>;
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Needs to be delayed to avoid Chrome img focus out bug</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        Delay.setEditorTimeout(editor, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
          <span class="hljs-keyword">var</span> match;

          match = findFrontMostMatch(editor.selection.getNode());
          <span class="hljs-keyword">if</span> (match) {
            hideAllContextToolbars();
            showContextToolbar(match);
          } <span class="hljs-keyword">else</span> {
            hideAllContextToolbars();
          }
        });
      });

      editor.on(<span class="hljs-string">'blur hide contextmenu'</span>, hideAllContextToolbars);

      editor.on(<span class="hljs-string">'ObjectResizeStart'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> match = findFrontMostMatch(editor.selection.getNode());

        <span class="hljs-keyword">if</span> (match &amp;&amp; match.toolbar.panel) {
          match.toolbar.panel.hide();
        }
      });

      editor.on(<span class="hljs-string">'ResizeEditor ResizeWindow'</span>, repositionHandler(<span class="hljs-literal">true</span>));
      editor.on(<span class="hljs-string">'nodeChange'</span>, repositionHandler(<span class="hljs-literal">false</span>));

      editor.on(<span class="hljs-string">'remove'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        Tools.each(getContextToolbars(), <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">toolbar</span>) </span>{
          <span class="hljs-keyword">if</span> (toolbar.panel) {
            toolbar.panel.remove();
          }
        });

        editor.contextToolbars = {};
      });

      editor.shortcuts.add(<span class="hljs-string">'ctrl+shift+e &gt; ctrl+shift+p'</span>, <span class="hljs-string">''</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> match = findFrontMostMatch(editor.selection.getNode());
        <span class="hljs-keyword">if</span> (match &amp;&amp; match.toolbar.panel) {
          match.toolbar.panel.items()[<span class="hljs-number">0</span>].focus();
        }
      });
    };

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">addContextualToolbars</span>: addContextualToolbars
    };
  }
);

<span class="hljs-comment">/**
 * Menubar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.themes.modern.ui.Menubar'</span>,
  [
    <span class="hljs-string">'tinymce.core.util.Tools'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">Tools</span>) </span>{
    <span class="hljs-keyword">var</span> defaultMenus = {
      <span class="hljs-attr">file</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'File'</span>, <span class="hljs-attr">items</span>: <span class="hljs-string">'newdocument'</span> },
      <span class="hljs-attr">edit</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'Edit'</span>, <span class="hljs-attr">items</span>: <span class="hljs-string">'undo redo | cut copy paste pastetext | selectall'</span> },
      <span class="hljs-attr">insert</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'Insert'</span>, <span class="hljs-attr">items</span>: <span class="hljs-string">'|'</span> },
      <span class="hljs-attr">view</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'View'</span>, <span class="hljs-attr">items</span>: <span class="hljs-string">'visualaid |'</span> },
      <span class="hljs-attr">format</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'Format'</span>, <span class="hljs-attr">items</span>: <span class="hljs-string">'bold italic underline strikethrough superscript subscript | formats | removeformat'</span> },
      <span class="hljs-attr">table</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'Table'</span> },
      <span class="hljs-attr">tools</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'Tools'</span> }
    };

    <span class="hljs-keyword">var</span> createMenuItem = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">menuItems, name</span>) </span>{
      <span class="hljs-keyword">var</span> menuItem;

      <span class="hljs-keyword">if</span> (name == <span class="hljs-string">'|'</span>) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">text</span>: <span class="hljs-string">'|'</span> };
      }

      menuItem = menuItems[name];

      <span class="hljs-keyword">return</span> menuItem;
    };

    <span class="hljs-keyword">var</span> createMenu = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editorMenuItems, settings, context</span>) </span>{
      <span class="hljs-keyword">var</span> menuButton, menu, menuItems, isUserDefined, removedMenuItems;

      removedMenuItems = Tools.makeMap((settings.removed_menuitems || <span class="hljs-string">''</span>).split(<span class="hljs-regexp">/[ ,]/</span>));</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>User defined menu</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> (settings.menu) {
        menu = settings.menu[context];
        isUserDefined = <span class="hljs-literal">true</span>;
      } <span class="hljs-keyword">else</span> {
        menu = defaultMenus[context];
      }

      <span class="hljs-keyword">if</span> (menu) {
        menuButton = { <span class="hljs-attr">text</span>: menu.title };
        menuItems = [];</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Default/user defined items</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        Tools.each((menu.items || <span class="hljs-string">''</span>).split(<span class="hljs-regexp">/[ ,]/</span>), <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{
          <span class="hljs-keyword">var</span> menuItem = createMenuItem(editorMenuItems, item);

          <span class="hljs-keyword">if</span> (menuItem &amp;&amp; !removedMenuItems[item]) {
            menuItems.push(createMenuItem(editorMenuItems, item));
          }
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Added though context</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (!isUserDefined) {
          Tools.each(editorMenuItems, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">menuItem</span>) </span>{
            <span class="hljs-keyword">if</span> (menuItem.context == context) {
              <span class="hljs-keyword">if</span> (menuItem.separator == <span class="hljs-string">'before'</span>) {
                menuItems.push({ <span class="hljs-attr">text</span>: <span class="hljs-string">'|'</span> });
              }

              <span class="hljs-keyword">if</span> (menuItem.prependToContext) {
                menuItems.unshift(menuItem);
              } <span class="hljs-keyword">else</span> {
                menuItems.push(menuItem);
              }

              <span class="hljs-keyword">if</span> (menuItem.separator == <span class="hljs-string">'after'</span>) {
                menuItems.push({ <span class="hljs-attr">text</span>: <span class="hljs-string">'|'</span> });
              }
            }
          });
        }

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; menuItems.length; i++) {
          <span class="hljs-keyword">if</span> (menuItems[i].text == <span class="hljs-string">'|'</span>) {
            <span class="hljs-keyword">if</span> (i === <span class="hljs-number">0</span> || i == menuItems.length - <span class="hljs-number">1</span>) {
              menuItems.splice(i, <span class="hljs-number">1</span>);
            }
          }
        }

        menuButton.menu = menuItems;

        <span class="hljs-keyword">if</span> (!menuButton.menu.length) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
      }

      <span class="hljs-keyword">return</span> menuButton;
    };

    <span class="hljs-keyword">var</span> createMenuButtons = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor</span>) </span>{
      <span class="hljs-keyword">var</span> name, menuButtons = [], settings = editor.settings;

      <span class="hljs-keyword">var</span> defaultMenuBar = [];
      <span class="hljs-keyword">if</span> (settings.menu) {
        <span class="hljs-keyword">for</span> (name <span class="hljs-keyword">in</span> settings.menu) {
          defaultMenuBar.push(name);
        }
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">for</span> (name <span class="hljs-keyword">in</span> defaultMenus) {
          defaultMenuBar.push(name);
        }
      }

      <span class="hljs-keyword">var</span> enabledMenuNames = <span class="hljs-keyword">typeof</span> settings.menubar == <span class="hljs-string">"string"</span> ? settings.menubar.split(<span class="hljs-regexp">/[ ,]/</span>) : defaultMenuBar;
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; enabledMenuNames.length; i++) {
        <span class="hljs-keyword">var</span> menu = enabledMenuNames[i];
        menu = createMenu(editor.menuItems, editor.settings, menu);

        <span class="hljs-keyword">if</span> (menu) {
          menuButtons.push(menu);
        }
      }

      <span class="hljs-keyword">return</span> menuButtons;
    };

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">createMenuButtons</span>: createMenuButtons
    };
  }
);

<span class="hljs-comment">/**
 * Resize.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.themes.modern.ui.Resize'</span>,
  [
    <span class="hljs-string">'tinymce.core.dom.DOMUtils'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">DOMUtils</span>) </span>{
    <span class="hljs-keyword">var</span> DOM = DOMUtils.DOM;
    <span class="hljs-keyword">var</span> getSize = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">elm</span>) </span>{
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">width</span>: elm.clientWidth,
        <span class="hljs-attr">height</span>: elm.clientHeight
      };
    };

    <span class="hljs-keyword">var</span> resizeTo = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor, width, height</span>) </span>{
      <span class="hljs-keyword">var</span> containerElm, iframeElm, containerSize, iframeSize, settings = editor.settings;

      containerElm = editor.getContainer();
      iframeElm = editor.getContentAreaContainer().firstChild;
      containerSize = getSize(containerElm);
      iframeSize = getSize(iframeElm);

      <span class="hljs-keyword">if</span> (width !== <span class="hljs-literal">null</span>) {
        width = <span class="hljs-built_in">Math</span>.max(settings.min_width || <span class="hljs-number">100</span>, width);
        width = <span class="hljs-built_in">Math</span>.min(settings.max_width || <span class="hljs-number">0xFFFF</span>, width);

        DOM.setStyle(containerElm, <span class="hljs-string">'width'</span>, width + (containerSize.width - iframeSize.width));
        DOM.setStyle(iframeElm, <span class="hljs-string">'width'</span>, width);
      }

      height = <span class="hljs-built_in">Math</span>.max(settings.min_height || <span class="hljs-number">100</span>, height);
      height = <span class="hljs-built_in">Math</span>.min(settings.max_height || <span class="hljs-number">0xFFFF</span>, height);
      DOM.setStyle(iframeElm, <span class="hljs-string">'height'</span>, height);

      editor.fire(<span class="hljs-string">'ResizeEditor'</span>);
    };

    <span class="hljs-keyword">var</span> resizeBy = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor, dw, dh</span>) </span>{
      <span class="hljs-keyword">var</span> elm = editor.getContentAreaContainer();
      resizeTo(editor, elm.clientWidth + dw, elm.clientHeight + dh);
    };

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">resizeTo</span>: resizeTo,
      <span class="hljs-attr">resizeBy</span>: resizeBy
    };
  }
);

<span class="hljs-comment">/**
 * Sidebar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.themes.modern.ui.Sidebar'</span>,
  [
    <span class="hljs-string">'tinymce.core.util.Tools'</span>,
    <span class="hljs-string">'tinymce.core.ui.Factory'</span>,
    <span class="hljs-string">'tinymce.core.Env'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">Tools, Factory, Env</span>) </span>{
    <span class="hljs-keyword">var</span> api = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">elm</span>) </span>{
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">element</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
          <span class="hljs-keyword">return</span> elm;
        }
      };
    };

    <span class="hljs-keyword">var</span> trigger = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">sidebar, panel, callbackName</span>) </span>{
      <span class="hljs-keyword">var</span> callback = sidebar.settings[callbackName];
      <span class="hljs-keyword">if</span> (callback) {
        callback(api(panel.getEl(<span class="hljs-string">'body'</span>)));
      }
    };

    <span class="hljs-keyword">var</span> hidePanels = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name, container, sidebars</span>) </span>{
      Tools.each(sidebars, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">sidebar</span>) </span>{
        <span class="hljs-keyword">var</span> panel = container.items().filter(<span class="hljs-string">'#'</span> + sidebar.name)[<span class="hljs-number">0</span>];

        <span class="hljs-keyword">if</span> (panel &amp;&amp; panel.visible() &amp;&amp; sidebar.name !== name) {
          trigger(sidebar, panel, <span class="hljs-string">'onhide'</span>);
          panel.visible(<span class="hljs-literal">false</span>);
        }
      });
    };

    <span class="hljs-keyword">var</span> deactivateButtons = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">toolbar</span>) </span>{
      toolbar.items().each(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">ctrl</span>) </span>{
        ctrl.active(<span class="hljs-literal">false</span>);
      });
    };

    <span class="hljs-keyword">var</span> findSidebar = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">sidebars, name</span>) </span>{
      <span class="hljs-keyword">return</span> Tools.grep(sidebars, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">sidebar</span>) </span>{
        <span class="hljs-keyword">return</span> sidebar.name === name;
      })[<span class="hljs-number">0</span>];
    };

    <span class="hljs-keyword">var</span> showPanel = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor, name, sidebars</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> btnCtrl = e.control;
        <span class="hljs-keyword">var</span> container = btnCtrl.parents().filter(<span class="hljs-string">'panel'</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">var</span> panel = container.find(<span class="hljs-string">'#'</span> + name)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">var</span> sidebar = findSidebar(sidebars, name);

        hidePanels(name, container, sidebars);
        deactivateButtons(btnCtrl.parent());

        <span class="hljs-keyword">if</span> (panel &amp;&amp; panel.visible()) {
          trigger(sidebar, panel, <span class="hljs-string">'onhide'</span>);
          panel.hide();
          btnCtrl.active(<span class="hljs-literal">false</span>);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">if</span> (panel) {
            panel.show();
            trigger(sidebar, panel, <span class="hljs-string">'onshow'</span>);
          } <span class="hljs-keyword">else</span> {
            panel = Factory.create({
              <span class="hljs-attr">type</span>: <span class="hljs-string">'container'</span>,
              <span class="hljs-attr">name</span>: name,
              <span class="hljs-attr">layout</span>: <span class="hljs-string">'stack'</span>,
              <span class="hljs-attr">classes</span>: <span class="hljs-string">'sidebar-panel'</span>,
              <span class="hljs-attr">html</span>: <span class="hljs-string">''</span>
            });

            container.prepend(panel);
            trigger(sidebar, panel, <span class="hljs-string">'onrender'</span>);
            trigger(sidebar, panel, <span class="hljs-string">'onshow'</span>);
          }

          btnCtrl.active(<span class="hljs-literal">true</span>);
        }

        editor.fire(<span class="hljs-string">'ResizeEditor'</span>);
      };
    };

    <span class="hljs-keyword">var</span> isModernBrowser = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">return</span> !Env.ie || Env.ie &gt;= <span class="hljs-number">11</span>;
    };

    <span class="hljs-keyword">var</span> hasSidebar = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor</span>) </span>{
      <span class="hljs-keyword">return</span> isModernBrowser() &amp;&amp; editor.sidebars ? editor.sidebars.length &gt; <span class="hljs-number">0</span> : <span class="hljs-literal">false</span>;
    };

    <span class="hljs-keyword">var</span> createSidebar = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor</span>) </span>{
      <span class="hljs-keyword">var</span> buttons = Tools.map(editor.sidebars, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">sidebar</span>) </span>{
        <span class="hljs-keyword">var</span> settings = sidebar.settings;

        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'button'</span>,
          <span class="hljs-attr">icon</span>: settings.icon,
          <span class="hljs-attr">image</span>: settings.image,
          <span class="hljs-attr">tooltip</span>: settings.tooltip,
          <span class="hljs-attr">onclick</span>: showPanel(editor, sidebar.name, editor.sidebars)
        };
      });

      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'panel'</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">'sidebar'</span>,
        <span class="hljs-attr">layout</span>: <span class="hljs-string">'stack'</span>,
        <span class="hljs-attr">classes</span>: <span class="hljs-string">'sidebar'</span>,
        <span class="hljs-attr">items</span>: [
          {
            <span class="hljs-attr">type</span>: <span class="hljs-string">'toolbar'</span>,
            <span class="hljs-attr">layout</span>: <span class="hljs-string">'stack'</span>,
            <span class="hljs-attr">classes</span>: <span class="hljs-string">'sidebar-toolbar'</span>,
            <span class="hljs-attr">items</span>: buttons
          }
        ]
      };
    };

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">hasSidebar</span>: hasSidebar,
      <span class="hljs-attr">createSidebar</span>: createSidebar
    };
  }
);
<span class="hljs-comment">/**
 * SkinLoaded.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.themes.modern.ui.SkinLoaded'</span>, [
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> fireSkinLoaded = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor</span>) </span>{
      <span class="hljs-keyword">var</span> done = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        editor._skinLoaded = <span class="hljs-literal">true</span>;
        editor.fire(<span class="hljs-string">'SkinLoaded'</span>);
      };

      <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (editor.initialized) {
          done();
        } <span class="hljs-keyword">else</span> {
          editor.on(<span class="hljs-string">'init'</span>, done);
        }
      };
    };

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">fireSkinLoaded</span>: fireSkinLoaded
    };
  }
);

<span class="hljs-comment">/**
 * Iframe.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.themes.modern.modes.Iframe'</span>,
  [
    <span class="hljs-string">'tinymce.core.dom.DOMUtils'</span>,
    <span class="hljs-string">'tinymce.core.ui.Factory'</span>,
    <span class="hljs-string">'tinymce.core.util.Tools'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.A11y'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.Branding'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.ContextToolbars'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.Menubar'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.Resize'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.Sidebar'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.SkinLoaded'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.Toolbar'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">DOMUtils, Factory, Tools, A11y, Branding, ContextToolbars, Menubar, Resize, Sidebar, SkinLoaded, Toolbar</span>) </span>{
    <span class="hljs-keyword">var</span> DOM = DOMUtils.DOM;

    <span class="hljs-keyword">var</span> switchMode = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">panel</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
        panel.find(<span class="hljs-string">'*'</span>).disabled(e.mode === <span class="hljs-string">'readonly'</span>);
      };
    };

    <span class="hljs-keyword">var</span> editArea = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">border</span>) </span>{
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'panel'</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">'iframe'</span>,
        <span class="hljs-attr">layout</span>: <span class="hljs-string">'stack'</span>,
        <span class="hljs-attr">classes</span>: <span class="hljs-string">'edit-area'</span>,
        <span class="hljs-attr">border</span>: border,
        <span class="hljs-attr">html</span>: <span class="hljs-string">''</span>
      };
    };

    <span class="hljs-keyword">var</span> editAreaContainer = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor</span>) </span>{
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'panel'</span>,
        <span class="hljs-attr">layout</span>: <span class="hljs-string">'stack'</span>,
        <span class="hljs-attr">classes</span>: <span class="hljs-string">'edit-aria-container'</span>,
        <span class="hljs-attr">border</span>: <span class="hljs-string">'1 0 0 0'</span>,
        <span class="hljs-attr">items</span>: [
          editArea(<span class="hljs-string">'0'</span>),
          Sidebar.createSidebar(editor)
        ]
      };
    };

    <span class="hljs-keyword">var</span> render = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor, theme, args</span>) </span>{
      <span class="hljs-keyword">var</span> panel, resizeHandleCtrl, startSize, settings = editor.settings;

      <span class="hljs-keyword">if</span> (args.skinUiCss) {
        DOM.styleSheetLoader.load(args.skinUiCss, SkinLoaded.fireSkinLoaded(editor));
      }

      panel = theme.panel = Factory.create({
        <span class="hljs-attr">type</span>: <span class="hljs-string">'panel'</span>,
        <span class="hljs-attr">role</span>: <span class="hljs-string">'application'</span>,
        <span class="hljs-attr">classes</span>: <span class="hljs-string">'tinymce'</span>,
        <span class="hljs-attr">style</span>: <span class="hljs-string">'visibility: hidden'</span>,
        <span class="hljs-attr">layout</span>: <span class="hljs-string">'stack'</span>,
        <span class="hljs-attr">border</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">items</span>: [
          settings.menubar === <span class="hljs-literal">false</span> ? <span class="hljs-literal">null</span> : { <span class="hljs-attr">type</span>: <span class="hljs-string">'menubar'</span>, <span class="hljs-attr">border</span>: <span class="hljs-string">'0 0 1 0'</span>, <span class="hljs-attr">items</span>: Menubar.createMenuButtons(editor) },
          Toolbar.createToolbars(editor, settings.toolbar_items_size),
          Sidebar.hasSidebar(editor) ? editAreaContainer(editor) : editArea(<span class="hljs-string">'1 0 0 0'</span>)
        ]
      });

      <span class="hljs-keyword">if</span> (settings.resize !== <span class="hljs-literal">false</span>) {
        resizeHandleCtrl = {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'resizehandle'</span>,
          <span class="hljs-attr">direction</span>: settings.resize,

          <span class="hljs-attr">onResizeStart</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> elm = editor.getContentAreaContainer().firstChild;

            startSize = {
              <span class="hljs-attr">width</span>: elm.clientWidth,
              <span class="hljs-attr">height</span>: elm.clientHeight
            };
          },

          <span class="hljs-attr">onResize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">if</span> (settings.resize === <span class="hljs-string">'both'</span>) {
              Resize.resizeTo(editor, startSize.width + e.deltaX, startSize.height + e.deltaY);
            } <span class="hljs-keyword">else</span> {
              Resize.resizeTo(editor, <span class="hljs-literal">null</span>, startSize.height + e.deltaY);
            }
          }
        };
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>Add statusbar if needed</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> (settings.statusbar !== <span class="hljs-literal">false</span>) {
        panel.add({
          <span class="hljs-attr">type</span>: <span class="hljs-string">'panel'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'statusbar'</span>, <span class="hljs-attr">classes</span>: <span class="hljs-string">'statusbar'</span>, <span class="hljs-attr">layout</span>: <span class="hljs-string">'flow'</span>, <span class="hljs-attr">border</span>: <span class="hljs-string">'1 0 0 0'</span>, <span class="hljs-attr">ariaRoot</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">items</span>: [
            { <span class="hljs-attr">type</span>: <span class="hljs-string">'elementpath'</span>, <span class="hljs-attr">editor</span>: editor },
            resizeHandleCtrl
          ]
        });
      }

      editor.fire(<span class="hljs-string">'BeforeRenderUI'</span>);
      editor.on(<span class="hljs-string">'SwitchMode'</span>, switchMode(panel));
      panel.renderBefore(args.targetNode).reflow();

      <span class="hljs-keyword">if</span> (settings.readonly) {
        editor.setMode(<span class="hljs-string">'readonly'</span>);
      }

      <span class="hljs-keyword">if</span> (args.width) {
        DOM.setStyle(panel.getEl(), <span class="hljs-string">'width'</span>, args.width);
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Remove the panel when the editor is removed</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      editor.on(<span class="hljs-string">'remove'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        panel.remove();
        panel = <span class="hljs-literal">null</span>;
      });</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Add accesibility shortcuts</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      A11y.addKeys(editor, panel);
      ContextToolbars.addContextualToolbars(editor);
      Branding.setup(editor);

      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">iframeContainer</span>: panel.find(<span class="hljs-string">'#iframe'</span>)[<span class="hljs-number">0</span>].getEl(),
        <span class="hljs-attr">editorContainer</span>: panel.getEl()
      };
    };

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">render</span>: render
    };
  }
);

<span class="hljs-comment">/**
 * ResolveGlobal.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.core.ui.FloatPanel'</span>,
  [
    <span class="hljs-string">'global!tinymce.util.Tools.resolve'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>{
    <span class="hljs-keyword">return</span> resolve(<span class="hljs-string">'tinymce.ui.FloatPanel'</span>);
  }
);

<span class="hljs-comment">/**
 * Inline.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.themes.modern.modes.Inline'</span>,
  [
    <span class="hljs-string">'tinymce.core.util.Tools'</span>,
    <span class="hljs-string">'tinymce.core.ui.Factory'</span>,
    <span class="hljs-string">'tinymce.core.dom.DOMUtils'</span>,
    <span class="hljs-string">'tinymce.core.ui.FloatPanel'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.Toolbar'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.Menubar'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.ContextToolbars'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.A11y'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.SkinLoaded'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">Tools, Factory, DOMUtils, FloatPanel, Toolbar, Menubar, ContextToolbars, A11y, SkinLoaded</span>) </span>{
    <span class="hljs-keyword">var</span> render = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor, theme, args</span>) </span>{
      <span class="hljs-keyword">var</span> panel, inlineToolbarContainer, settings = editor.settings;
      <span class="hljs-keyword">var</span> DOM = DOMUtils.DOM;

      <span class="hljs-keyword">if</span> (settings.fixed_toolbar_container) {
        inlineToolbarContainer = DOM.select(settings.fixed_toolbar_container)[<span class="hljs-number">0</span>];
      }

      <span class="hljs-keyword">var</span> reposition = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (panel &amp;&amp; panel.moveRel &amp;&amp; panel.visible() &amp;&amp; !panel._fixed) {</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>TODO: This is kind of ugly and doesnt handle multiple scrollable elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          <span class="hljs-keyword">var</span> scrollContainer = editor.selection.getScrollContainer(), body = editor.getBody();
          <span class="hljs-keyword">var</span> deltaX = <span class="hljs-number">0</span>, deltaY = <span class="hljs-number">0</span>;

          <span class="hljs-keyword">if</span> (scrollContainer) {
            <span class="hljs-keyword">var</span> bodyPos = DOM.getPos(body), scrollContainerPos = DOM.getPos(scrollContainer);

            deltaX = <span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>, scrollContainerPos.x - bodyPos.x);
            deltaY = <span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>, scrollContainerPos.y - bodyPos.y);
          }

          panel.fixed(<span class="hljs-literal">false</span>).moveRel(body, editor.rtl ? [<span class="hljs-string">'tr-br'</span>, <span class="hljs-string">'br-tr'</span>] : [<span class="hljs-string">'tl-bl'</span>, <span class="hljs-string">'bl-tl'</span>, <span class="hljs-string">'tr-br'</span>]).moveBy(deltaX, deltaY);
        }
      };

      <span class="hljs-keyword">var</span> show = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (panel) {
          panel.show();
          reposition();
          DOM.addClass(editor.getBody(), <span class="hljs-string">'mce-edit-focus'</span>);
        }
      };

      <span class="hljs-keyword">var</span> hide = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (panel) {</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>We require two events as the inline float panel based toolbar does not have autohide=true</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          panel.hide();</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>All other autohidden float panels will be closed below.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          FloatPanel.hideAll();

          DOM.removeClass(editor.getBody(), <span class="hljs-string">'mce-edit-focus'</span>);
        }
      };

      <span class="hljs-keyword">var</span> render = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (panel) {
          <span class="hljs-keyword">if</span> (!panel.visible()) {
            show();
          }

          <span class="hljs-keyword">return</span>;
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>Render a plain panel inside the inlineToolbarContainer if its defined</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        panel = theme.panel = Factory.create({
          <span class="hljs-attr">type</span>: inlineToolbarContainer ? <span class="hljs-string">'panel'</span> : <span class="hljs-string">'floatpanel'</span>,
          <span class="hljs-attr">role</span>: <span class="hljs-string">'application'</span>,
          <span class="hljs-attr">classes</span>: <span class="hljs-string">'tinymce tinymce-inline'</span>,
          <span class="hljs-attr">layout</span>: <span class="hljs-string">'flex'</span>,
          <span class="hljs-attr">direction</span>: <span class="hljs-string">'column'</span>,
          <span class="hljs-attr">align</span>: <span class="hljs-string">'stretch'</span>,
          <span class="hljs-attr">autohide</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">autofix</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">fixed</span>: !!inlineToolbarContainer,
          <span class="hljs-attr">border</span>: <span class="hljs-number">1</span>,
          <span class="hljs-attr">items</span>: [
            settings.menubar === <span class="hljs-literal">false</span> ? <span class="hljs-literal">null</span> : { <span class="hljs-attr">type</span>: <span class="hljs-string">'menubar'</span>, <span class="hljs-attr">border</span>: <span class="hljs-string">'0 0 1 0'</span>, <span class="hljs-attr">items</span>: Menubar.createMenuButtons(editor) },
            Toolbar.createToolbars(editor, settings.toolbar_items_size)
          ]
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>Add statusbar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-comment">/*if (settings.statusbar !== false) {
          panel.add({type: 'panel', classes: 'statusbar', layout: 'flow', border: '1 0 0 0', items: [
            {type: 'elementpath'}
          ]});
        }*/</span>

        editor.fire(<span class="hljs-string">'BeforeRenderUI'</span>);
        panel.renderTo(inlineToolbarContainer || <span class="hljs-built_in">document</span>.body).reflow();

        A11y.addKeys(editor, panel);
        show();
        ContextToolbars.addContextualToolbars(editor);

        editor.on(<span class="hljs-string">'nodeChange'</span>, reposition);
        editor.on(<span class="hljs-string">'activate'</span>, show);
        editor.on(<span class="hljs-string">'deactivate'</span>, hide);

        editor.nodeChanged();
      };

      settings.content_editable = <span class="hljs-literal">true</span>;

      editor.on(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>Render only when the CSS file has been loaded</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (args.skinUiCss) {
          DOM.styleSheetLoader.load(args.skinUiCss, render, render);
        } <span class="hljs-keyword">else</span> {
          render();
        }
      });

      editor.on(<span class="hljs-string">'blur hide'</span>, hide);</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>Remove the panel when the editor is removed</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      editor.on(<span class="hljs-string">'remove'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (panel) {
          panel.remove();
          panel = <span class="hljs-literal">null</span>;
        }
      });</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>Preload skin css</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> (args.skinUiCss) {
        DOM.styleSheetLoader.load(args.skinUiCss, SkinLoaded.fireSkinLoaded(editor));
      }

      <span class="hljs-keyword">return</span> {};
    };

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">render</span>: render
    };
  }
);

<span class="hljs-comment">/**
 * ResolveGlobal.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2017 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.core.ui.Throbber'</span>,
  [
    <span class="hljs-string">'global!tinymce.util.Tools.resolve'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>{
    <span class="hljs-keyword">return</span> resolve(<span class="hljs-string">'tinymce.ui.Throbber'</span>);
  }
);

<span class="hljs-comment">/**
 * ProgressState.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.themes.modern.ui.ProgressState'</span>,
  [
    <span class="hljs-string">'tinymce.core.ui.Throbber'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">Throbber</span>) </span>{
    <span class="hljs-keyword">var</span> setup = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor, theme</span>) </span>{
      <span class="hljs-keyword">var</span> throbber;

      editor.on(<span class="hljs-string">'ProgressState'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
        throbber = throbber || <span class="hljs-keyword">new</span> Throbber(theme.panel.getEl(<span class="hljs-string">'body'</span>));

        <span class="hljs-keyword">if</span> (e.state) {
          throbber.show(e.time);
        } <span class="hljs-keyword">else</span> {
          throbber.hide();
        }
      });
    };

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">setup</span>: setup
    };
  }
);

<span class="hljs-comment">/**
 * Theme.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */</span>

define(
  <span class="hljs-string">'tinymce.themes.modern.Theme'</span>,
  [
    <span class="hljs-string">'global!window'</span>,
    <span class="hljs-string">'tinymce.core.AddOnManager'</span>,
    <span class="hljs-string">'tinymce.core.EditorManager'</span>,
    <span class="hljs-string">'tinymce.core.Env'</span>,
    <span class="hljs-string">'tinymce.core.ui.Api'</span>,
    <span class="hljs-string">'tinymce.themes.modern.modes.Iframe'</span>,
    <span class="hljs-string">'tinymce.themes.modern.modes.Inline'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.ProgressState'</span>,
    <span class="hljs-string">'tinymce.themes.modern.ui.Resize'</span>
  ],
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">window, AddOnManager, EditorManager, Env, Api, Iframe, Inline, ProgressState, Resize</span>) </span>{
    <span class="hljs-keyword">var</span> ThemeManager = AddOnManager.ThemeManager;

    Api.appendTo(<span class="hljs-built_in">window</span>.tinymce ? <span class="hljs-built_in">window</span>.tinymce : {});

    <span class="hljs-keyword">var</span> renderUI = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor, theme, args</span>) </span>{
      <span class="hljs-keyword">var</span> settings = editor.settings;
      <span class="hljs-keyword">var</span> skin = settings.skin !== <span class="hljs-literal">false</span> ? settings.skin || <span class="hljs-string">'lightgray'</span> : <span class="hljs-literal">false</span>;

      <span class="hljs-keyword">if</span> (skin) {
        <span class="hljs-keyword">var</span> skinUrl = settings.skin_url;

        <span class="hljs-keyword">if</span> (skinUrl) {
          skinUrl = editor.documentBaseURI.toAbsolute(skinUrl);
        } <span class="hljs-keyword">else</span> {
          skinUrl = EditorManager.baseURL + <span class="hljs-string">'/skins/'</span> + skin;
        }

        args.skinUiCss = skinUrl + <span class="hljs-string">'/skin.min.css'</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>Load content.min.css or content.inline.min.css</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        editor.contentCSS.push(skinUrl + <span class="hljs-string">'/content'</span> + (editor.inline ? <span class="hljs-string">'.inline'</span> : <span class="hljs-string">''</span>) + <span class="hljs-string">'.min.css'</span>);
      }

      ProgressState.setup(editor, theme);

      <span class="hljs-keyword">if</span> (settings.inline) {
        <span class="hljs-keyword">return</span> Inline.render(editor, theme, args);
      }

      <span class="hljs-keyword">return</span> Iframe.render(editor, theme, args);
    };

    ThemeManager.add(<span class="hljs-string">'modern'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">editor</span>) </span>{
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">renderUI</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">args</span>) </span>{
          <span class="hljs-keyword">return</span> renderUI(editor, <span class="hljs-keyword">this</span>, args);
        },
        <span class="hljs-attr">resizeTo</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">w, h</span>) </span>{
          <span class="hljs-keyword">return</span> Resize.resizeTo(editor, w, h);
        },
        <span class="hljs-attr">resizeBy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dw, dh</span>) </span>{
          <span class="hljs-keyword">return</span> Resize.resizeBy(editor, dw, dh);
        }
      };
    });

    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    };
  }
);

dem(<span class="hljs-string">'tinymce.themes.modern.Theme'</span>)();
})();</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
